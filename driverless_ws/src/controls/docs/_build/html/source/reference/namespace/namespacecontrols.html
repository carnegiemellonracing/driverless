<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Namespace controls &mdash; driverless_controls 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Namespace controls::cuda_globals" href="namespacecontrols_1_1cuda__globals.html" />
    <link rel="prev" title="Namespace list" href="../namespacelist.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            driverless_controls
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../explainers/terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explainers/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explainers/file_structure.html">File Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../classlist.html">Class list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filelist.html">File list</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../namespacelist.html">Namespace list</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Namespace controls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv48controls"><code class="docutils literal notranslate"><span class="pre">controls</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls6ActionE"><code class="docutils literal notranslate"><span class="pre">controls::Action</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5StateE"><code class="docutils literal notranslate"><span class="pre">controls::State</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls8TwistMsgE"><code class="docutils literal notranslate"><span class="pre">controls::TwistMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls7PoseMsgE"><code class="docutils literal notranslate"><span class="pre">controls::PoseMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls9SplineMsgE"><code class="docutils literal notranslate"><span class="pre">controls::SplineMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls9ActionMsgE"><code class="docutils literal notranslate"><span class="pre">controls::ActionMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls8StateMsgE"><code class="docutils literal notranslate"><span class="pre">controls::StateMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls7InfoMsgE"><code class="docutils literal notranslate"><span class="pre">controls::InfoMsg</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10LoggerFuncE"><code class="docutils literal notranslate"><span class="pre">controls::LoggerFunc</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10TorqueModeE"><code class="docutils literal notranslate"><span class="pre">controls::TorqueMode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls6no_logEPKc"><code class="docutils literal notranslate"><span class="pre">controls::no_log()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls20curandGetErrorStringE14curandStatus_t"><code class="docutils literal notranslate"><span class="pre">controls::curandGetErrorString()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11cuda_assertE11cudaError_tPKcib"><code class="docutils literal notranslate"><span class="pre">controls::cuda_assert()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls13curand_assertE14curandStatus_tPKcib"><code class="docutils literal notranslate"><span class="pre">controls::curand_assert()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN8controls12print_tensorEv1T4dim3"><code class="docutils literal notranslate"><span class="pre">controls::print_tensor()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls7radiansEf"><code class="docutils literal notranslate"><span class="pre">controls::radians()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls20controller_node_nameE"><code class="docutils literal notranslate"><span class="pre">controls::controller_node_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls25control_action_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::control_action_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls17spline_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::spline_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls16state_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::state_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls22world_twist_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::world_twist_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls21world_quat_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::world_quat_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls21world_pose_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::world_pose_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls26controller_info_topic_nameE"><code class="docutils literal notranslate"><span class="pre">controls::controller_info_topic_name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls19best_effort_profileE"><code class="docutils literal notranslate"><span class="pre">controls::best_effort_profile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls15best_effort_qosE"><code class="docutils literal notranslate"><span class="pre">controls::best_effort_qos</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls18control_action_qosE"><code class="docutils literal notranslate"><span class="pre">controls::control_action_qos</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10spline_qosE"><code class="docutils literal notranslate"><span class="pre">controls::spline_qos</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls19controller_info_qosE"><code class="docutils literal notranslate"><span class="pre">controls::controller_info_qos</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls18default_clock_typeE"><code class="docutils literal notranslate"><span class="pre">controls::default_clock_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls15controller_freqE"><code class="docutils literal notranslate"><span class="pre">controls::controller_freq</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls17controller_periodE"><code class="docutils literal notranslate"><span class="pre">controls::controller_period</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11num_samplesE"><code class="docutils literal notranslate"><span class="pre">controls::num_samples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls13num_timestepsE"><code class="docutils literal notranslate"><span class="pre">controls::num_timesteps</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11action_dimsE"><code class="docutils literal notranslate"><span class="pre">controls::action_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10state_dimsE"><code class="docutils literal notranslate"><span class="pre">controls::state_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11temperatureE"><code class="docutils literal notranslate"><span class="pre">controls::temperature</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls4seedE"><code class="docutils literal notranslate"><span class="pre">controls::seed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls23num_action_trajectoriesE"><code class="docutils literal notranslate"><span class="pre">controls::num_action_trajectories</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls22init_action_trajectoryE"><code class="docutils literal notranslate"><span class="pre">controls::init_action_trajectory</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls15action_momentumE"><code class="docutils literal notranslate"><span class="pre">controls::action_momentum</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls14offset_1m_costE"><code class="docutils literal notranslate"><span class="pre">controls::offset_1m_cost</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls12target_speedE"><code class="docutils literal notranslate"><span class="pre">controls::target_speed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls19speed_off_1mps_costE"><code class="docutils literal notranslate"><span class="pre">controls::speed_off_1mps_cost</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls18out_of_bounds_costE"><code class="docutils literal notranslate"><span class="pre">controls::out_of_bounds_cost</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls23spline_frame_separationE"><code class="docutils literal notranslate"><span class="pre">controls::spline_frame_separation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls27curv_frame_lookup_tex_widthE"><code class="docutils literal notranslate"><span class="pre">controls::curv_frame_lookup_tex_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls25curv_frame_lookup_paddingE"><code class="docutils literal notranslate"><span class="pre">controls::curv_frame_lookup_padding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11track_widthE"><code class="docutils literal notranslate"><span class="pre">controls::track_width</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11car_paddingE"><code class="docutils literal notranslate"><span class="pre">controls::car_padding</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls20reset_pose_on_splineE"><code class="docutils literal notranslate"><span class="pre">controls::reset_pose_on_spline</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11cg_to_frontE"><code class="docutils literal notranslate"><span class="pre">controls::cg_to_front</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10cg_to_rearE"><code class="docutils literal notranslate"><span class="pre">controls::cg_to_rear</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10cg_to_noseE"><code class="docutils literal notranslate"><span class="pre">controls::cg_to_nose</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls8whl_baseE"><code class="docutils literal notranslate"><span class="pre">controls::whl_base</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10whl_radiusE"><code class="docutils literal notranslate"><span class="pre">controls::whl_radius</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls10gear_ratioE"><code class="docutils literal notranslate"><span class="pre">controls::gear_ratio</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls8car_massE"><code class="docutils literal notranslate"><span class="pre">controls::car_mass</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls12rolling_dragE"><code class="docutils literal notranslate"><span class="pre">controls::rolling_drag</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls24long_tractive_capabilityE"><code class="docutils literal notranslate"><span class="pre">controls::long_tractive_capability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls23lat_tractive_capabilityE"><code class="docutils literal notranslate"><span class="pre">controls::lat_tractive_capability</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls16understeer_slopeE"><code class="docutils literal notranslate"><span class="pre">controls::understeer_slope</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls18brake_enable_speedE"><code class="docutils literal notranslate"><span class="pre">controls::brake_enable_speed</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls23saturating_motor_torqueE"><code class="docutils literal notranslate"><span class="pre">controls::saturating_motor_torque</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls24approx_propogation_delayE"><code class="docutils literal notranslate"><span class="pre">controls::approx_propogation_delay</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls16approx_mppi_timeE"><code class="docutils literal notranslate"><span class="pre">controls::approx_mppi_time</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11torque_modeE"><code class="docutils literal notranslate"><span class="pre">controls::torque_mode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11state_x_idxE"><code class="docutils literal notranslate"><span class="pre">controls::state_x_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls11state_y_idxE"><code class="docutils literal notranslate"><span class="pre">controls::state_y_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls13state_yaw_idxE"><code class="docutils literal notranslate"><span class="pre">controls::state_yaw_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls15state_speed_idxE"><code class="docutils literal notranslate"><span class="pre">controls::state_speed_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls18action_swangle_idxE"><code class="docutils literal notranslate"><span class="pre">controls::action_swangle_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls17action_torque_idxE"><code class="docutils literal notranslate"><span class="pre">controls::action_torque_idx</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls19clear_term_sequenceE"><code class="docutils literal notranslate"><span class="pre">controls::clear_term_sequence</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls8rng_typeE"><code class="docutils literal notranslate"><span class="pre">controls::rng_type</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls24action_trajectories_dimsE"><code class="docutils literal notranslate"><span class="pre">controls::action_trajectories_dims</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls24max_spline_texture_elemsE"><code class="docutils literal notranslate"><span class="pre">controls::max_spline_texture_elems</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4I0EN8controls12cudaTensor3DE"><code class="docutils literal notranslate"><span class="pre">controls::cudaTensor3D</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls12cuda_globalsE"><code class="docutils literal notranslate"><span class="pre">controls::cuda_globals</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls4mppiE"><code class="docutils literal notranslate"><span class="pre">controls::mppi</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5nodesE"><code class="docutils literal notranslate"><span class="pre">controls::nodes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5stateE"><code class="docutils literal notranslate"><span class="pre">controls::state</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5utilsE"><code class="docutils literal notranslate"><span class="pre">controls::utils</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="namespacecontrols_1_1cuda__globals.html">Namespace controls::cuda_globals</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacecontrols_1_1mppi.html">Namespace controls::mppi</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacecontrols_1_1nodes.html">Namespace controls::nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacecontrols_1_1state.html">Namespace controls::state</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacecontrols_1_1utils.html">Namespace controls::utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="namespacerclcpp.html">Namespace rclcpp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structlist.html">Struct list</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">driverless_controls</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../namespacelist.html">Namespace list</a></li>
      <li class="breadcrumb-item active">Namespace controls</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/source/reference/namespace/namespacecontrols.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="namespace-controls">
<h1>Namespace controls<a class="headerlink" href="#namespace-controls" title="Link to this heading"></a></h1>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv48controls">
<span id="_CPPv38controls"></span><span id="_CPPv28controls"></span><span id="controls"></span><span class="target" id="namespacecontrols"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">controls</span></span></span><br /></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>these header files are part of the ROS2 standard libraries</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>these header files are generated by ROS2 from the .msg files in the interfaces package. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls6ActionE">
<span id="_CPPv3N8controls6ActionE"></span><span id="_CPPv2N8controls6ActionE"></span><span class="target" id="namespacecontrols_1afbd56c7e6594de235040c70239a1df6c"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11action_dimsE" title="controls::action_dims"><span class="n"><span class="pre">action_dims</span></span></a><span class="p"><span class="pre">&gt;</span></span><br /></dt>
<dd><p>Control action: currently steering wheel angle and forward throttle. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5StateE">
<span id="_CPPv3N8controls5StateE"></span><span id="_CPPv2N8controls5StateE"></span><span class="target" id="namespacecontrols_1afabbf31cdb1e3511c4bc8bb82ef2a9d0"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">State</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10state_dimsE" title="controls::state_dims"><span class="n"><span class="pre">state_dims</span></span></a><span class="p"><span class="pre">&gt;</span></span><br /></dt>
<dd><p>Vehicle state: currently inertial x, y, yaw, speed. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls8TwistMsgE">
<span id="_CPPv3N8controls8TwistMsgE"></span><span id="_CPPv2N8controls8TwistMsgE"></span><span class="target" id="namespacecontrols_1adaf63f906d80fe277c9c5437e01982a9"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TwistMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">geometry_msgs</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">TwistStamped</span></span><br /></dt>
<dd><p>3D linear velocity, 3D angular velocity, timestamp </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls7PoseMsgE">
<span id="_CPPv3N8controls7PoseMsgE"></span><span id="_CPPv2N8controls7PoseMsgE"></span><span class="target" id="namespacecontrols_1ac260d0c932624caa0b4c925e027e2ae5"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PoseMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">geometry_msgs</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">PoseStamped</span></span><br /></dt>
<dd><p>3D position, 3D orientation, timestamp </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls9SplineMsgE">
<span id="_CPPv3N8controls9SplineMsgE"></span><span id="_CPPv2N8controls9SplineMsgE"></span><span class="target" id="namespacecontrols_1a16a669a4560103f43890fcb4da919255"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SplineMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">SplineFrames</span></span><br /></dt>
<dd><p>Array of 3D splint points, timestamp. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls9ActionMsgE">
<span id="_CPPv3N8controls9ActionMsgE"></span><span id="_CPPv2N8controls9ActionMsgE"></span><span class="target" id="namespacecontrols_1a5620d8dccfadd3457e1d5d55765da022"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ActionMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ControlAction</span></span><br /></dt>
<dd><p>4 wheel torques, steering angle, timestamp </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls8StateMsgE">
<span id="_CPPv3N8controls8StateMsgE"></span><span id="_CPPv2N8controls8StateMsgE"></span><span class="target" id="namespacecontrols_1a8cbcb02e95684c0124875444d197dec1"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ControlsState</span></span><br /></dt>
<dd><p>p=4 dimensional state: x, y, yaw, speed. Derived from twist and pose. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls7InfoMsgE">
<span id="_CPPv3N8controls7InfoMsgE"></span><span id="_CPPv2N8controls7InfoMsgE"></span><span class="target" id="namespacecontrols_1ac8aab0cd74bdb577d67d06f7f34f7271"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">InfoMsg</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">interfaces</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ControllerInfo</span></span><br /></dt>
<dd><p>State, control action, latency info. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10LoggerFuncE">
<span id="_CPPv3N8controls10LoggerFuncE"></span><span id="_CPPv2N8controls10LoggerFuncE"></span><span class="target" id="namespacecontrols_1a8fe72fe6d47854ac7118eae6d9c7319b"></span><span class="k"><span class="pre">using</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LoggerFunc</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><br /></dt>
<dd><p>Logging function type. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10TorqueModeE">
<span id="_CPPv3N8controls10TorqueModeE"></span><span id="_CPPv2N8controls10TorqueModeE"></span><span class="target" id="namespacecontrols_1a0f5ef61dd6f51b56287ed1763b68cd5f"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TorqueMode</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10TorqueMode3AWDE">
<span id="_CPPv3N8controls10TorqueMode3AWDE"></span><span id="_CPPv2N8controls10TorqueMode3AWDE"></span><span class="target" id="namespacecontrols_1a0f5ef61dd6f51b56287ed1763b68cd5faa76befc34ae7f1d14fd7ded43ae99946"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AWD</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10TorqueMode3FWDE">
<span id="_CPPv3N8controls10TorqueMode3FWDE"></span><span id="_CPPv2N8controls10TorqueMode3FWDE"></span><span class="target" id="namespacecontrols_1a0f5ef61dd6f51b56287ed1763b68cd5fac9261effebe177a8679909dd7ec2552e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FWD</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10TorqueMode3RWDE">
<span id="_CPPv3N8controls10TorqueMode3RWDE"></span><span id="_CPPv2N8controls10TorqueMode3RWDE"></span><span class="target" id="namespacecontrols_1a0f5ef61dd6f51b56287ed1763b68cd5fa862ccbc166c0cafb853d82b5634f7982"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">RWD</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a436c05ed3ed5a6ffe60740bace568125"></span><span class="sig-name descname"><span class="pre">const</span> <span class="pre">rclcpp::QoS</span> <span class="pre">state_qos</span> <span class="pre">(rclcpp::KeepLast(1))</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a734672b275177ae9fc084b36c4e78a62"></span><span class="sig-name descname"><span class="pre">const</span> <span class="pre">rclcpp::QoS</span> <span class="pre">world_twist_qos</span> <span class="pre">(rclcpp::KeepLast(1))</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a1d676c5425c4aa48fdfe96b6b0b9edc6"></span><span class="sig-name descname"><span class="pre">const</span> <span class="pre">rclcpp::QoS</span> <span class="pre">world_quat_qos</span> <span class="pre">(rclcpp::KeepLast(1))</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a4b213f318aa816074f6a1dfeb84d54a4"></span><span class="sig-name descname"><span class="pre">const</span> <span class="pre">rclcpp::QoS</span> <span class="pre">world_pose_qos</span> <span class="pre">(rclcpp::KeepLast(1))</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls6no_logEPKc">
<span id="_CPPv3N8controls6no_logEPKc"></span><span id="_CPPv2N8controls6no_logEPKc"></span><span id="controls::no_log__cCPCE"></span><span class="target" id="namespacecontrols_1ab82c6afd591fa206418f74144a821c0e"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">no_log</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="p"><span class="pre">*</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Instance of LoggerFunc that doesn’t log anything. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls20curandGetErrorStringE14curandStatus_t">
<span id="_CPPv3N8controls20curandGetErrorStringE14curandStatus_t"></span><span id="_CPPv2N8controls20curandGetErrorStringE14curandStatus_t"></span><span id="controls::curandGetErrorString__curandStatus_t"></span><span class="target" id="namespacecontrols_1abe7f6204596d06cad4c3a6e27050116e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">curandGetErrorString</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">curandStatus_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">error</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11cuda_assertE11cudaError_tPKcib">
<span id="_CPPv3N8controls11cuda_assertE11cudaError_tPKcib"></span><span id="_CPPv2N8controls11cuda_assertE11cudaError_tPKcib"></span><span id="controls::cuda_assert__cudaError_t.cCP.i.b"></span><span class="target" id="namespacecontrols_1aa890a8b85e7a30c59997b9daa2b2c878"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cuda_assert</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">cudaError_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">code</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">file</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">line</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">abort</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls13curand_assertE14curandStatus_tPKcib">
<span id="_CPPv3N8controls13curand_assertE14curandStatus_tPKcib"></span><span id="_CPPv2N8controls13curand_assertE14curandStatus_tPKcib"></span><span id="controls::curand_assert__curandStatus_t.cCP.i.b"></span><span class="target" id="namespacecontrols_1a079ab2c2719467221b60698662014e2c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">curand_assert</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">curandStatus_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">code</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">file</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">line</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">abort</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1adcd46b190261432611bc5bb654def032"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">bool</span> <span class="pre">any_nan</span> <span class="pre">(const</span> <span class="pre">float</span> <span class="pre">*vec,</span> <span class="pre">size_t</span> <span class="pre">n)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a6f9fcfc02deae449e300926d6f84b80a"></span><span class="sig-name descname"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">T</span> <span class="pre">dot</span> <span class="pre">(const</span> <span class="pre">T</span> <span class="pre">*a,</span> <span class="pre">const</span> <span class="pre">T</span> <span class="pre">*b,</span> <span class="pre">size_t</span> <span class="pre">n)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN8controls12print_tensorEv1T4dim3">
<span id="_CPPv3I0EN8controls12print_tensorE1T4dim3"></span><span id="_CPPv2I0EN8controls12print_tensorE1T4dim3"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="namespacecontrols_1a521612c6852ae481e5253c116962956e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">print_tensor</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/cuda_utils_cuh.html#_CPPv4I0EN8controls12print_tensorEv1T4dim3" title="controls::print_tensor::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tensor</span></span>, <span class="n"><span class="pre">dim3</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">dims</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1af1d4c7001c61dbd24d89ce752c437e9d"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">printf_vector</span> <span class="pre">(const</span> <span class="pre">float</span> <span class="pre">vec[],</span> <span class="pre">size_t</span> <span class="pre">n)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1a3b98082c482bb8ff78f0333b6e32abfa"></span><span class="sig-name descname"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">T</span> <span class="pre">clamp</span> <span class="pre">(T</span> <span class="pre">n,</span> <span class="pre">T</span> <span class="pre">low,</span> <span class="pre">T</span> <span class="pre">high)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls7radiansEf">
<span id="_CPPv3N8controls7radiansEf"></span><span id="_CPPv2N8controls7radiansEf"></span><span id="controls::radians__floatCE"></span><span class="target" id="namespacecontrols_1a1c26bcd7a64df2b0e33ca013c82eb590"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">radians</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">degrees</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls20controller_node_nameE">
<span id="_CPPv3N8controls20controller_node_nameE"></span><span id="_CPPv2N8controls20controller_node_nameE"></span><span id="controls::controller_node_name__cCP"></span><span class="target" id="namespacecontrols_1a486a6f6396417bfe08320344090ba1b2"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">controller_node_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;controller&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls25control_action_topic_nameE">
<span id="_CPPv3N8controls25control_action_topic_nameE"></span><span id="_CPPv2N8controls25control_action_topic_nameE"></span><span id="controls::control_action_topic_name__cCP"></span><span class="target" id="namespacecontrols_1a924f73f5b6b7a4ff8b870ce67171dafb"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">control_action_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;control_action&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls17spline_topic_nameE">
<span id="_CPPv3N8controls17spline_topic_nameE"></span><span id="_CPPv2N8controls17spline_topic_nameE"></span><span id="controls::spline_topic_name__cCP"></span><span class="target" id="namespacecontrols_1abab44aadf52a1a2f003b570bb265e670"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">spline_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;spline&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls16state_topic_nameE">
<span id="_CPPv3N8controls16state_topic_nameE"></span><span id="_CPPv2N8controls16state_topic_nameE"></span><span id="controls::state_topic_name__cCP"></span><span class="target" id="namespacecontrols_1a66707cba53f077e5acc9a139f93f0488"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">state_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;state&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls22world_twist_topic_nameE">
<span id="_CPPv3N8controls22world_twist_topic_nameE"></span><span id="_CPPv2N8controls22world_twist_topic_nameE"></span><span id="controls::world_twist_topic_name__cCP"></span><span class="target" id="namespacecontrols_1a3f5d5f9d028192dc0cc27ecc46238096"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">world_twist_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;filter/twist&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls21world_quat_topic_nameE">
<span id="_CPPv3N8controls21world_quat_topic_nameE"></span><span id="_CPPv2N8controls21world_quat_topic_nameE"></span><span id="controls::world_quat_topic_name__cCP"></span><span class="target" id="namespacecontrols_1a7ff595286467a7a3c3c395efb69e926f"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">world_quat_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;filter/quaternion&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls21world_pose_topic_nameE">
<span id="_CPPv3N8controls21world_pose_topic_nameE"></span><span id="_CPPv2N8controls21world_pose_topic_nameE"></span><span id="controls::world_pose_topic_name__cCP"></span><span class="target" id="namespacecontrols_1a8ed8fb6ec0fbcf660b11a40226e488c4"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">world_pose_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;filter/pose&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls26controller_info_topic_nameE">
<span id="_CPPv3N8controls26controller_info_topic_nameE"></span><span id="_CPPv2N8controls26controller_info_topic_nameE"></span><span id="controls::controller_info_topic_name__cCP"></span><span class="target" id="namespacecontrols_1aeebbecc1fbabddd9705f6d3e8600aad1"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">controller_info_topic_name</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;controller_info&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls19best_effort_profileE">
<span id="_CPPv3N8controls19best_effort_profileE"></span><span id="_CPPv2N8controls19best_effort_profileE"></span><span id="controls::best_effort_profile__rmw_qos_profile_tC"></span><span class="target" id="namespacecontrols_1a10abb99aa2c76f8ae8bcbd206a6eaba2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rmw_qos_profile_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">best_effort_profile</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="n"><span class="pre">RMW_QOS_POLICY_HISTORY_KEEP_LAST</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_POLICY_DURABILITY_VOLATILE</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_DEADLINE_DEFAULT</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_LIFESPAN_DEFAULT</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_POLICY_LIVELINESS_SYSTEM_DEFAULT</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">RMW_QOS_LIVELINESS_LEASE_DURATION_DEFAULT</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="p"><span class="pre">}</span></span><br /></dt>
<dd><p>ask Ankit? </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls15best_effort_qosE">
<span id="_CPPv3N8controls15best_effort_qosE"></span><span id="_CPPv2N8controls15best_effort_qosE"></span><span id="controls::best_effort_qos__rclcpp::QoSC"></span><span class="target" id="namespacecontrols_1afa7c820bc8cee897951402f161f9e28d"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoS</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">best_effort_qos</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoS</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoSInitialization</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls19best_effort_profileE" title="controls::best_effort_profile"><span class="n"><span class="pre">best_effort_profile</span></span></a><span class="p"><span class="pre">.</span></span><span class="n"><span class="pre">history</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls19best_effort_profileE" title="controls::best_effort_profile"><span class="n"><span class="pre">best_effort_profile</span></span></a><span class="p"><span class="pre">.</span></span><span class="n"><span class="pre">depth</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls19best_effort_profileE" title="controls::best_effort_profile"><span class="n"><span class="pre">best_effort_profile</span></span></a><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls18control_action_qosE">
<span id="_CPPv3N8controls18control_action_qosE"></span><span id="_CPPv2N8controls18control_action_qosE"></span><span id="controls::control_action_qos__rclcpp::QoSC"></span><span class="target" id="namespacecontrols_1a6969484b028165793f058b151fa6ba7f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoS</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">control_action_qos</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls15best_effort_qosE" title="controls::best_effort_qos"><span class="n"><span class="pre">best_effort_qos</span></span></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10spline_qosE">
<span id="_CPPv3N8controls10spline_qosE"></span><span id="_CPPv2N8controls10spline_qosE"></span><span id="controls::spline_qos__rclcpp::QoSC"></span><span class="target" id="namespacecontrols_1a7e48eb3bab20305c1a5ee94bf6640e4c"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoS</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spline_qos</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls15best_effort_qosE" title="controls::best_effort_qos"><span class="n"><span class="pre">best_effort_qos</span></span></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls19controller_info_qosE">
<span id="_CPPv3N8controls19controller_info_qosE"></span><span id="_CPPv2N8controls19controller_info_qosE"></span><span id="controls::controller_info_qos__rclcpp::QoSC"></span><span class="target" id="namespacecontrols_1ab6b749209f5c3cd84f164e2751db8e07"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">QoS</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">controller_info_qos</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls15best_effort_qosE" title="controls::best_effort_qos"><span class="n"><span class="pre">best_effort_qos</span></span></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls18default_clock_typeE">
<span id="_CPPv3N8controls18default_clock_typeE"></span><span id="_CPPv2N8controls18default_clock_typeE"></span><span id="controls::default_clock_type__rcl_clock_type_t"></span><span class="target" id="namespacecontrols_1ad0f56164d08e5fe4360c70ae1ad09316"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">rcl_clock_type_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">default_clock_type</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">RCL_ROS_TIME</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls15controller_freqE">
<span id="_CPPv3N8controls15controller_freqE"></span><span id="_CPPv2N8controls15controller_freqE"></span><span id="controls::controller_freq__double"></span><span class="target" id="namespacecontrols_1a28c91b35a9cbf121458f480fa891d882"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">controller_freq</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">10.</span></span><br /></dt>
<dd><p>Target number of controller steps per second, in Hz. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1 controller step outputs 1 control action </p>
</div>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls17controller_periodE">
<span id="_CPPv3N8controls17controller_periodE"></span><span id="_CPPv2N8controls17controller_periodE"></span><span id="controls::controller_period__float"></span><span class="target" id="namespacecontrols_1adb2bcd829a875e4020e85206abd87ed4"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">controller_period</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.</span></span><span class="w"> </span><span class="o"><span class="pre">/</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls15controller_freqE" title="controls::controller_freq"><span class="n"><span class="pre">controller_freq</span></span></a><br /></dt>
<dd><p>Target duration between control actions, in sec. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11num_samplesE">
<span id="_CPPv3N8controls11num_samplesE"></span><span id="_CPPv2N8controls11num_samplesE"></span><span id="controls::num_samples__uint32_t"></span><span class="target" id="namespacecontrols_1af942e7d9ccddccd856df01716f1e6379"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_samples</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1024</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><span class="m"><span class="pre">64</span></span><br /></dt>
<dd><p>Number of trajectories sampled each controller step. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls13num_timestepsE">
<span id="_CPPv3N8controls13num_timestepsE"></span><span id="_CPPv2N8controls13num_timestepsE"></span><span id="controls::num_timesteps__uint32_t"></span><span class="target" id="namespacecontrols_1adc189c6c0230911501c6a09841dbeda3"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_timesteps</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">16</span></span><br /></dt>
<dd><p>Number of controller steps simulated into the future. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11action_dimsE">
<span id="_CPPv3N8controls11action_dimsE"></span><span id="_CPPv2N8controls11action_dimsE"></span><span id="controls::action_dims__uint8_t"></span><span class="target" id="namespacecontrols_1a17cfa62860105e4912d4344ada195a3e"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action_dims</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><br /></dt>
<dd><p><span class="math notranslate nohighlight">\(q\)</span>, <a class="reference internal" href="#namespacecontrols_1afbd56c7e6594de235040c70239a1df6c"><span class="std std-ref">Action</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10state_dimsE">
<span id="_CPPv3N8controls10state_dimsE"></span><span id="_CPPv2N8controls10state_dimsE"></span><span id="controls::state_dims__uint8_t"></span><span class="target" id="namespacecontrols_1ab8aa87bc4d8eeef3986c916d312c66b4"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_dims</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><br /></dt>
<dd><p><span class="math notranslate nohighlight">\(p\)</span>, <a class="reference internal" href="#namespacecontrols_1afabbf31cdb1e3511c4bc8bb82ef2a9d0"><span class="std std-ref">State</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11temperatureE">
<span id="_CPPv3N8controls11temperatureE"></span><span id="_CPPv2N8controls11temperatureE"></span><span id="controls::temperature__float"></span><span class="target" id="namespacecontrols_1aebde430f0d725d5f8da69884a7db5d46"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">temperature</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.0f</span></span><br /></dt>
<dd><p>Convergence speed/stability tradeoff, see LaTeX for more details. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4seedE">
<span id="_CPPv3N8controls4seedE"></span><span id="_CPPv2N8controls4seedE"></span><span id="controls::seed__unsigned-l-l"></span><span class="target" id="namespacecontrols_1ab666d2c429626ea5c8e988037bfccb32"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">seed</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>For brownian pseudo-RNG. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls23num_action_trajectoriesE">
<span id="_CPPv3N8controls23num_action_trajectoriesE"></span><span id="_CPPv2N8controls23num_action_trajectoriesE"></span><span id="controls::num_action_trajectories__uint32_t"></span><span class="target" id="namespacecontrols_1a5a9b79d9d5ba0f70bf421ecb9b7c1b29"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_action_trajectories</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11action_dimsE" title="controls::action_dims"><span class="n"><span class="pre">action_dims</span></span></a><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls13num_timestepsE" title="controls::num_timesteps"><span class="n"><span class="pre">num_timesteps</span></span></a><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11num_samplesE" title="controls::num_samples"><span class="n"><span class="pre">num_samples</span></span></a><br /></dt>
<dd><p>Number of elements in the tensor containing all the sampled action trajectories. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls22init_action_trajectoryE">
<span id="_CPPv3N8controls22init_action_trajectoryE"></span><span id="_CPPv2N8controls22init_action_trajectoryE"></span><span id="controls::init_action_trajectory__floatA"></span><span class="target" id="namespacecontrols_1a75543f3c64c685c6ad47414fb05366c0"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">init_action_trajectory</span></span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls13num_timestepsE" title="controls::num_timesteps"><span class="n"><span class="pre">num_timesteps</span></span></a><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11action_dimsE" title="controls::action_dims"><span class="n"><span class="pre">action_dims</span></span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="p"><span class="pre">}</span></span><br /></dt>
<dd><p>Best guess of action trajectory when controller first starts. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls15action_momentumE">
<span id="_CPPv3N8controls15action_momentumE"></span><span id="_CPPv2N8controls15action_momentumE"></span><span id="controls::action_momentum__float"></span><span class="target" id="namespacecontrols_1a16ad530aa56d96f08ad20a92b19ba73a"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action_momentum</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.0f</span></span><br /></dt>
<dd><p>How much of last action taken to retain in calculation of next action. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls14offset_1m_costE">
<span id="_CPPv3N8controls14offset_1m_costE"></span><span id="_CPPv2N8controls14offset_1m_costE"></span><span id="controls::offset_1m_cost__float"></span><span class="target" id="namespacecontrols_1a68bc5adf85c0836a018d1049fdcbac7b"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">offset_1m_cost</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">5.0f</span></span><br /></dt>
<dd><p>Cost for being 1m away from midline. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12target_speedE">
<span id="_CPPv3N8controls12target_speedE"></span><span id="_CPPv2N8controls12target_speedE"></span><span id="controls::target_speed__float"></span><span class="target" id="namespacecontrols_1a7d6af3dae5a643910a6c10d22a84244d"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">target_speed</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">10.0f</span></span><br /></dt>
<dd><p>Linear cost for under target speed, NO cost for above, in m/s. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls19speed_off_1mps_costE">
<span id="_CPPv3N8controls19speed_off_1mps_costE"></span><span id="_CPPv2N8controls19speed_off_1mps_costE"></span><span id="controls::speed_off_1mps_cost__float"></span><span class="target" id="namespacecontrols_1a456d6e3b6327356ef81440af40958562"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">speed_off_1mps_cost</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.0f</span></span><br /></dt>
<dd><p>Cost for being 1m/s below target_speed </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls18out_of_bounds_costE">
<span id="_CPPv3N8controls18out_of_bounds_costE"></span><span id="_CPPv2N8controls18out_of_bounds_costE"></span><span id="controls::out_of_bounds_cost__float"></span><span class="target" id="namespacecontrols_1ab81d5f096fbaec67df23c7ca4830678a"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">out_of_bounds_cost</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">100.0f</span></span><br /></dt>
<dd><p>Cost for being out of (fake) track bounds, TODO: use real bounds. </p>
<p>Reason for not using infinity: reduction uses log of the cost (trading precision for representable range) Edge case: if every trajectory goes out of bounds (comparing to itself) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls23spline_frame_separationE">
<span id="_CPPv3N8controls23spline_frame_separationE"></span><span id="_CPPv2N8controls23spline_frame_separationE"></span><span id="controls::spline_frame_separation__float"></span><span class="target" id="namespacecontrols_1af66eed44fc965b8202ca6d741cd3ecf0"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">spline_frame_separation</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.5f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls27curv_frame_lookup_tex_widthE">
<span id="_CPPv3N8controls27curv_frame_lookup_tex_widthE"></span><span id="_CPPv2N8controls27curv_frame_lookup_tex_widthE"></span><span id="controls::curv_frame_lookup_tex_width__uint32_t"></span><span class="target" id="namespacecontrols_1a0cd610600ee0f64502123279a04823e9"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">curv_frame_lookup_tex_width</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">512</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls25curv_frame_lookup_paddingE">
<span id="_CPPv3N8controls25curv_frame_lookup_paddingE"></span><span id="_CPPv2N8controls25curv_frame_lookup_paddingE"></span><span id="controls::curv_frame_lookup_padding__float"></span><span class="target" id="namespacecontrols_1a040de7f5cb374fe75accee86f293ea3b"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">curv_frame_lookup_padding</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11track_widthE">
<span id="_CPPv3N8controls11track_widthE"></span><span id="_CPPv2N8controls11track_widthE"></span><span id="controls::track_width__float"></span><span class="target" id="namespacecontrols_1a72557a640c20ae91b95411b2bff5c969"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">track_width</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">30.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11car_paddingE">
<span id="_CPPv3N8controls11car_paddingE"></span><span id="_CPPv2N8controls11car_paddingE"></span><span id="controls::car_padding__float"></span><span class="target" id="namespacecontrols_1a69a677dd5bce9fdc344030c1ff273914"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">car_padding</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">max</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls23spline_frame_separationE" title="controls::spline_frame_separation"><span class="n"><span class="pre">spline_frame_separation</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">M_SQRT2f32</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11track_widthE" title="controls::track_width"><span class="n"><span class="pre">track_width</span></span></a><span class="p"><span class="pre">)</span></span><br /></dt>
<dd><p>mppi simulates a lot of shitty trajectories (naive brownian guess) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls20reset_pose_on_splineE">
<span id="_CPPv3N8controls20reset_pose_on_splineE"></span><span id="_CPPv2N8controls20reset_pose_on_splineE"></span><span id="controls::reset_pose_on_spline__b"></span><span class="target" id="namespacecontrols_1aed78ce79de926227eac6bb5b479343c2"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reset_pose_on_spline</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><br /></dt>
<dd><p>Sets pose to 0 vector for new spline (sensor POV) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11cg_to_frontE">
<span id="_CPPv3N8controls11cg_to_frontE"></span><span id="_CPPv2N8controls11cg_to_frontE"></span><span id="controls::cg_to_front__float"></span><span class="target" id="namespacecontrols_1a9be13be74bcec7b1f8c7d63346c93b0f"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cg_to_front</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.775</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10cg_to_rearE">
<span id="_CPPv3N8controls10cg_to_rearE"></span><span id="_CPPv2N8controls10cg_to_rearE"></span><span id="controls::cg_to_rear__float"></span><span class="target" id="namespacecontrols_1aa30d4afeb5cb2888ab38a2e92221dfce"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cg_to_rear</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.775</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10cg_to_noseE">
<span id="_CPPv3N8controls10cg_to_noseE"></span><span id="_CPPv2N8controls10cg_to_noseE"></span><span id="controls::cg_to_nose__float"></span><span class="target" id="namespacecontrols_1a2e5c8f8a5d913ca9fd62abffc5f6b072"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cg_to_nose</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.5f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls8whl_baseE">
<span id="_CPPv3N8controls8whl_baseE"></span><span id="_CPPv2N8controls8whl_baseE"></span><span id="controls::whl_base__float"></span><span class="target" id="namespacecontrols_1a1480b8f9c1de0e07e61fa7371d359efb"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">whl_base</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">2.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10whl_radiusE">
<span id="_CPPv3N8controls10whl_radiusE"></span><span id="_CPPv2N8controls10whl_radiusE"></span><span id="controls::whl_radius__float"></span><span class="target" id="namespacecontrols_1af4a485df82a745d6fcee40c4d6657e44"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">whl_radius</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.2286</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls10gear_ratioE">
<span id="_CPPv3N8controls10gear_ratioE"></span><span id="_CPPv2N8controls10gear_ratioE"></span><span id="controls::gear_ratio__float"></span><span class="target" id="namespacecontrols_1a8f5ca40e632b878e45330cf1a4418b64"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gear_ratio</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">15.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls8car_massE">
<span id="_CPPv3N8controls8car_massE"></span><span id="_CPPv2N8controls8car_massE"></span><span id="controls::car_mass__float"></span><span class="target" id="namespacecontrols_1aa8920dfe537db605bee5f3a02c83a6f9"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">car_mass</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">210.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12rolling_dragE">
<span id="_CPPv3N8controls12rolling_dragE"></span><span id="_CPPv2N8controls12rolling_dragE"></span><span id="controls::rolling_drag__float"></span><span class="target" id="namespacecontrols_1a69cf82f1355cbfa212c3624d971aa70c"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rolling_drag</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">100.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls24long_tractive_capabilityE">
<span id="_CPPv3N8controls24long_tractive_capabilityE"></span><span id="_CPPv2N8controls24long_tractive_capabilityE"></span><span id="controls::long_tractive_capability__float"></span><span class="target" id="namespacecontrols_1ab3cd984aec3e6d9f7e5b44944e157dcb"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">long_tractive_capability</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">2.0f</span></span><br /></dt>
<dd><p>Maximum forward acceleration in m/s^2. Can be an imposed limit or the actual physics limitation. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls23lat_tractive_capabilityE">
<span id="_CPPv3N8controls23lat_tractive_capabilityE"></span><span id="_CPPv2N8controls23lat_tractive_capabilityE"></span><span id="controls::lat_tractive_capability__float"></span><span class="target" id="namespacecontrols_1a6d16fba9681bdcd38d9c0758fb030865"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">lat_tractive_capability</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">3.0f</span></span><br /></dt>
<dd><p>Maximum centripetal acceleration in m/s^2. Can be an imposed limit or the actual physics limitation. Usually slightly more than <code class="docutils literal notranslate"><span class="pre">long_tractive_capability</span></code></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls16understeer_slopeE">
<span id="_CPPv3N8controls16understeer_slopeE"></span><span id="_CPPv2N8controls16understeer_slopeE"></span><span id="controls::understeer_slope__float"></span><span class="target" id="namespacecontrols_1a3cc65f6a5870dd12a013c6f7dfe048ef"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">understeer_slope</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls18brake_enable_speedE">
<span id="_CPPv3N8controls18brake_enable_speedE"></span><span id="_CPPv2N8controls18brake_enable_speedE"></span><span id="controls::brake_enable_speed__float"></span><span class="target" id="namespacecontrols_1aa2a5c1075a80a6832d844757090c747f"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">brake_enable_speed</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1.0f</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls23saturating_motor_torqueE">
<span id="_CPPv3N8controls23saturating_motor_torqueE"></span><span id="_CPPv2N8controls23saturating_motor_torqueE"></span><span id="controls::saturating_motor_torque__float"></span><span class="target" id="namespacecontrols_1abff7e95d4cfce2e6df1b6952372fb254"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">saturating_motor_torque</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls24long_tractive_capabilityE" title="controls::long_tractive_capability"><span class="n"><span class="pre">long_tractive_capability</span></span></a><span class="w"> </span><span class="o"><span class="pre">+</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls12rolling_dragE" title="controls::rolling_drag"><span class="n"><span class="pre">rolling_drag</span></span></a><span class="w"> </span><span class="o"><span class="pre">/</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls8car_massE" title="controls::car_mass"><span class="n"><span class="pre">car_mass</span></span></a><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls8car_massE" title="controls::car_mass"><span class="n"><span class="pre">car_mass</span></span></a><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10whl_radiusE" title="controls::whl_radius"><span class="n"><span class="pre">whl_radius</span></span></a><span class="w"> </span><span class="o"><span class="pre">/</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10gear_ratioE" title="controls::gear_ratio"><span class="n"><span class="pre">gear_ratio</span></span></a><br /></dt>
<dd><p>Maximum torque request //TODO in N? </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls24approx_propogation_delayE">
<span id="_CPPv3N8controls24approx_propogation_delayE"></span><span id="_CPPv2N8controls24approx_propogation_delayE"></span><span id="controls::approx_propogation_delay__float"></span><span class="target" id="namespacecontrols_1a0c87e7663527f8f4c647d280d82101ab"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">approx_propogation_delay</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.02f</span></span><br /></dt>
<dd><p>Time from MPPI control action request to physical change, in sec TODO: Re-estimate since Falcon (steering motor) replacement </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls16approx_mppi_timeE">
<span id="_CPPv3N8controls16approx_mppi_timeE"></span><span id="_CPPv2N8controls16approx_mppi_timeE"></span><span id="controls::approx_mppi_time__float"></span><span class="target" id="namespacecontrols_1aab769ba83f3ad0d18bd19afd8b6b1e17"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">approx_mppi_time</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.02f</span></span><br /></dt>
<dd><p>Time from MPPI launch to control action calculation, in sec. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11torque_modeE">
<span id="_CPPv3N8controls11torque_modeE"></span><span id="_CPPv2N8controls11torque_modeE"></span><span id="controls::torque_mode__TorqueMode"></span><span class="target" id="namespacecontrols_1acfa88df50cbaed06d4d8ba029d729f9e"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10TorqueModeE" title="controls::TorqueMode"><span class="n"><span class="pre">TorqueMode</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">torque_mode</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10TorqueModeE" title="controls::TorqueMode"><span class="n"><span class="pre">TorqueMode</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls10TorqueMode3FWDE" title="controls::TorqueMode::FWD"><span class="n"><span class="pre">FWD</span></span></a><br /></dt>
<dd><p>Because back two wheels don’t currently work. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11state_x_idxE">
<span id="_CPPv3N8controls11state_x_idxE"></span><span id="_CPPv2N8controls11state_x_idxE"></span><span id="controls::state_x_idx__uint8_t"></span><span class="target" id="namespacecontrols_1ae18f9f336543d5ac3f22224b8dcb15b2"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_x_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls11state_y_idxE">
<span id="_CPPv3N8controls11state_y_idxE"></span><span id="_CPPv2N8controls11state_y_idxE"></span><span id="controls::state_y_idx__uint8_t"></span><span class="target" id="namespacecontrols_1a2ed622657cc60c35d14e75be7e0d260c"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_y_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls13state_yaw_idxE">
<span id="_CPPv3N8controls13state_yaw_idxE"></span><span id="_CPPv2N8controls13state_yaw_idxE"></span><span id="controls::state_yaw_idx__uint8_t"></span><span class="target" id="namespacecontrols_1a64e224aa40892449a69c49c9291e18f2"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_yaw_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls15state_speed_idxE">
<span id="_CPPv3N8controls15state_speed_idxE"></span><span id="_CPPv2N8controls15state_speed_idxE"></span><span id="controls::state_speed_idx__uint8_t"></span><span class="target" id="namespacecontrols_1af47d77b8e109ade94bb5fdb949fc0219"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_speed_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls18action_swangle_idxE">
<span id="_CPPv3N8controls18action_swangle_idxE"></span><span id="_CPPv2N8controls18action_swangle_idxE"></span><span id="controls::action_swangle_idx__uint8_t"></span><span class="target" id="namespacecontrols_1a16f8471d62f9ad9075b98ee835ac427f"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action_swangle_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls17action_torque_idxE">
<span id="_CPPv3N8controls17action_torque_idxE"></span><span id="_CPPv2N8controls17action_torque_idxE"></span><span id="controls::action_torque_idx__uint8_t"></span><span class="target" id="namespacecontrols_1a6bc268cc809dfeb57c5881bf711cd061"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action_torque_idx</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls19clear_term_sequenceE">
<span id="_CPPv3N8controls19clear_term_sequenceE"></span><span id="_CPPv2N8controls19clear_term_sequenceE"></span><span id="controls::clear_term_sequence__cCP"></span><span class="target" id="namespacecontrols_1af920055555abe72b9011b64f6de38507"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clear_term_sequence</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="s"><span class="pre">&quot;\033c&quot;</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls8rng_typeE">
<span id="_CPPv3N8controls8rng_typeE"></span><span id="_CPPv2N8controls8rng_typeE"></span><span id="controls::rng_type__curandRngType_t"></span><span class="target" id="namespacecontrols_1a4d9c1d0ceb06b926b70b389ed9a3d958"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">curandRngType_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rng_type</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">CURAND_RNG_PSEUDO_MTGP32</span></span><br /></dt>
<dd><p>Used for curandCreateGenerator. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls24action_trajectories_dimsE">
<span id="_CPPv3N8controls24action_trajectories_dimsE"></span><span id="_CPPv2N8controls24action_trajectories_dimsE"></span><span id="controls::action_trajectories_dims__dim3"></span><span class="target" id="namespacecontrols_1a7326a805f22ac4ead0d8536724719322"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">dim3</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action_trajectories_dims</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11num_samplesE" title="controls::num_samples"><span class="n"><span class="pre">num_samples</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls13num_timestepsE" title="controls::num_timesteps"><span class="n"><span class="pre">num_timesteps</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11action_dimsE" title="controls::action_dims"><span class="n"><span class="pre">action_dims</span></span></a><span class="p"><span class="pre">}</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls24max_spline_texture_elemsE">
<span id="_CPPv3N8controls24max_spline_texture_elemsE"></span><span id="_CPPv2N8controls24max_spline_texture_elemsE"></span><span id="controls::max_spline_texture_elems__s"></span><span class="target" id="namespacecontrols_1a6f723e8c491748db76d5e694b254eb4d"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_spline_texture_elems</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1ULL</span></span><span class="w"> </span><span class="o"><span class="pre">&lt;&lt;</span></span><span class="w"> </span><span class="m"><span class="pre">12</span></span><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4I0EN8controls12cudaTensor3DE">
<span id="_CPPv3I0EN8controls12cudaTensor3DE"></span><span id="_CPPv2I0EN8controls12cudaTensor3DE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="structcontrols_1_1cudaTensor3D"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cudaTensor3D</span></span></span><br /></dt>
<dd><p>3D pitched tensor </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cudaTensor3D11pitched_ptrE">
<span id="_CPPv3N8controls12cudaTensor3D11pitched_ptrE"></span><span id="_CPPv2N8controls12cudaTensor3D11pitched_ptrE"></span><span id="controls::cudaTensor3D::pitched_ptr__cudaPitchedPtr"></span><span class="target" id="structcontrols_1_1cudaTensor3D_1ab63a19002e9d68e78077741f88b0585f"></span><span class="n"><span class="pre">cudaPitchedPtr</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pitched_ptr</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cudaTensor3D6extentE">
<span id="_CPPv3N8controls12cudaTensor3D6extentE"></span><span id="_CPPv2N8controls12cudaTensor3D6extentE"></span><span id="controls::cudaTensor3D::extent__cudaExtent"></span><span class="target" id="structcontrols_1_1cudaTensor3D_1ab14ef2dbc066795dbddd3b59e53b7597"></span><span class="n"><span class="pre">cudaExtent</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">extent</span></span></span><br /></dt>
<dd><p>Extent in bytes. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globalsE">
<span id="_CPPv3N8controls12cuda_globalsE"></span><span id="_CPPv2N8controls12cuda_globalsE"></span><span id="controls::cuda_globals"></span><span class="target" id="namespacecontrols_1_1cuda__globals"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cuda_globals</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1aea8153497ab7cc7067bdd0b2b895d636"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">sample_curv_state</span> <span class="pre">(const</span> <span class="pre">float</span> <span class="pre">world_pose[3],</span> <span class="pre">float</span> <span class="pre">curv_pose[3],</span> <span class="pre">bool</span> <span class="pre">&amp;out_of_bounds)</span></span></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a3695c0ce3bc37280f3efca5f6c80ebe6"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">cudaTextureObject_t</span> <span class="pre">curv_frame_lookup_tex</span></span></dt>
<dd><p>this is a pointer to the CUDA texture </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a4a2b17d08de991350239d4832a3df49a"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">CurvFrameLookupTexInfo</span> <span class="pre">curv_frame_lookup_tex_info</span></span></dt>
<dd><p>before sampling into texture, need to apply the same transformation to world pose </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1ab28b44ff8c86b0ff0dc6ce7a24ae02e4"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">size_t</span> <span class="pre">spline_texture_elems</span>&#160;&#160; <span class="pre">=</span> <span class="pre">0</span></span></dt>
<dd><p>no fucing idea </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a0b61c5c826e379cd3bf865ab701244e3"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">float</span> <span class="pre">curr_state</span> <span class="pre">[state_dims]</span>&#160; <span class="pre">=</span> <span class="pre">{0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0}</span></span></dt>
<dd><p>State information is stored here. Written to by state_estimator and read by mppi_controller. </p>
<p><span class="math notranslate nohighlight">\(x_0\)</span></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals19swangle_swangle_stdE">
<span id="_CPPv3N8controls12cuda_globals19swangle_swangle_stdE"></span><span id="_CPPv2N8controls12cuda_globals19swangle_swangle_stdE"></span><span id="controls::cuda_globals::swangle_swangle_std__float"></span><span class="target" id="namespacecontrols_1_1cuda__globals_1ad7ab0d28d5240103b7b7f578a0f3606f"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">swangle_swangle_std</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0.1</span></span><br /></dt>
<dd><p>Standard deviation for swangle distribution. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals17torque_torque_stdE">
<span id="_CPPv3N8controls12cuda_globals17torque_torque_stdE"></span><span id="_CPPv2N8controls12cuda_globals17torque_torque_stdE"></span><span id="controls::cuda_globals::torque_torque_std__float"></span><span class="target" id="namespacecontrols_1_1cuda__globals_1a6ca7fd8c6920915cd5b16212e317e61d"></span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">torque_torque_std</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">10</span></span><br /></dt>
<dd><p>Standard deviation for throttle distribution. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a28b12eb93b72c153595a0936cf2c718f"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">perturbs_incr_std</span> <span class="pre">[action_dims</span> <span class="pre">*action_dims]</span>&#160; <span class="pre">=</span> <span class="pre">{</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">swangle_swangle_std,</span> <span class="pre">0,0,torque_torque_std</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">}</span></span></dt>
<dd><p>Cholesky factor of covariance matrix (assuming swangle and throttle are uncorrelated) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1aa7a87e4512dab07a2b682ebfa7e91f52"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">perturbs_incr_var_inv</span> <span class="pre">[action_dims</span> <span class="pre">*action_dims]</span> <span class="pre">=</span> <span class="pre">{1</span> <span class="pre">/</span> <span class="pre">(swangle_swangle_std</span> <span class="pre">*</span> <span class="pre">swangle_swangle_std),</span> <span class="pre">0,0,</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">(torque_torque_std</span> <span class="pre">*</span> <span class="pre">torque_torque_std)}</span></span></dt>
<dd><p>Inverse of covariance matrix. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a257da78d5447e9c1e9a74f3bd3b416cf"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action_min</span> <span class="pre">[action_dims]</span> <span class="pre">=</span> <span class="pre">{-radians(19),</span> <span class="pre">-saturating_motor_torque</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">}</span></span></dt>
<dd><p>Minimum control action request. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a9233aba07eea6b2a2e217f225f9ef64f"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action_max</span> <span class="pre">[action_dims]</span>&#160; <span class="pre">=</span> <span class="pre">{</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">radians(19),</span> <span class="pre">saturating_motor_torque</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">}</span></span></dt>
<dd><p>Maximum control action request. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a1ad08c4d501d6a201d238a1d332949c6"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action_deriv_min</span> <span class="pre">[action_dims]</span> <span class="pre">=</span> <span class="pre">{-1.0,</span> <span class="pre">-std::numeric_limits&lt;float&gt;::infinity()}</span></span></dt>
<dd><p>Min. d. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1cuda__globals_1a14408b42a4570d44fe4030dab2db9f09"></span><span class="sig-name descname"><span class="pre">__constant__</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action_deriv_max</span> <span class="pre">[action_dims]</span> <span class="pre">=</span> <span class="pre">{1.0,std::numeric_limits&lt;float&gt;::infinity()}</span></span></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals22CurvFrameLookupTexInfoE">
<span id="_CPPv3N8controls12cuda_globals22CurvFrameLookupTexInfoE"></span><span id="_CPPv2N8controls12cuda_globals22CurvFrameLookupTexInfoE"></span><span id="controls::cuda_globals::CurvFrameLookupTexInfo"></span><span class="target" id="structcontrols_1_1cuda__globals_1_1CurvFrameLookupTexInfo"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CurvFrameLookupTexInfo</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals22CurvFrameLookupTexInfo7xcenterE">
<span id="_CPPv3N8controls12cuda_globals22CurvFrameLookupTexInfo7xcenterE"></span><span id="_CPPv2N8controls12cuda_globals22CurvFrameLookupTexInfo7xcenterE"></span><span id="controls::cuda_globals::CurvFrameLookupTexInfo::xcenter__float"></span><span class="target" id="structcontrols_1_1cuda__globals_1_1CurvFrameLookupTexInfo_1a3a485d67e052dab75ad947e2f6182080"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xcenter</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals22CurvFrameLookupTexInfo7ycenterE">
<span id="_CPPv3N8controls12cuda_globals22CurvFrameLookupTexInfo7ycenterE"></span><span id="_CPPv2N8controls12cuda_globals22CurvFrameLookupTexInfo7ycenterE"></span><span id="controls::cuda_globals::CurvFrameLookupTexInfo::ycenter__float"></span><span class="target" id="structcontrols_1_1cuda__globals_1_1CurvFrameLookupTexInfo_1a4edbb0351ea017b2d9b61da2f09d6baa"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ycenter</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls12cuda_globals22CurvFrameLookupTexInfo5widthE">
<span id="_CPPv3N8controls12cuda_globals22CurvFrameLookupTexInfo5widthE"></span><span id="_CPPv2N8controls12cuda_globals22CurvFrameLookupTexInfo5widthE"></span><span id="controls::cuda_globals::CurvFrameLookupTexInfo::width__float"></span><span class="target" id="structcontrols_1_1cuda__globals_1_1CurvFrameLookupTexInfo_1ad939f142a7ed966a3a5bf74e563e1b2d"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">width</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppiE">
<span id="_CPPv3N8controls4mppiE"></span><span id="_CPPv2N8controls4mppiE"></span><span id="controls::mppi"></span><span class="target" id="namespacecontrols_1_1mppi"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mppi</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1a7c6cb9d22973b9bd34ff70979e006aee"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">model</span> <span class="pre">(const</span> <span class="pre">float</span> <span class="pre">world_state[],</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action[],</span> <span class="pre">float</span> <span class="pre">world_state_out[],</span> <span class="pre">float</span> <span class="pre">timestep)</span></span></dt>
<dd><p>Advances curvilinear state one timestep according to action.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>world_state</strong> – <strong>[in]</strong> world state of the vehicle </p></li>
<li><p><strong>action</strong> – <strong>[in]</strong> Action taken </p></li>
<li><p><strong>world_state_out</strong> – <strong>[out]</strong> Returned next state </p></li>
<li><p><strong>timestep</strong> – <strong>[in]</strong> Timestep </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1a5f84a14d1c278a0fe1434ba593ab25ff"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__device__</span> <span class="pre">float</span> <span class="pre">cost</span> <span class="pre">(const</span> <span class="pre">float</span> <span class="pre">world_state[],</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">action[],</span> <span class="pre">const</span> <span class="pre">float</span> <span class="pre">last_taken_action[],</span> <span class="pre">float</span> <span class="pre">start_progress,</span> <span class="pre">float</span> <span class="pre">time_since_traj_start,</span> <span class="pre">bool</span> <span class="pre">first)</span></span></dt>
<dd><p>Calculate cost at a particular state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>world_state</strong> – World state of the vehicle </p></li>
<li><p><strong>action</strong> – Action considered </p></li>
<li><p><strong>last_taken_action</strong> – Last action actually taken by the vehicle </p></li>
<li><p><strong>start_progress</strong> – Progress at the start of the trajectory </p></li>
<li><p><strong>time_since_traj_start</strong> – Time elapsed since trjaectory start </p></li>
<li><p><strong>first</strong> – whether this is the first action in the trajectory </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Cost at the given state </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1ad0b2578e1b43bf89fdd51993b5735efd"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__device__</span> <span class="pre">ActionWeightTuple</span> <span class="pre">operator+</span> <span class="pre">(const</span> <span class="pre">ActionWeightTuple</span> <span class="pre">&amp;action_weight_t0,</span> <span class="pre">const</span> <span class="pre">ActionWeightTuple</span> <span class="pre">&amp;action_weight_t1)</span></span></dt>
<dd><p>Adds two ActionWeightTuples whilst checking/clamping to reasonable bounds. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi11prefix_scanEN6thrust10device_ptrIfEE">
<span id="_CPPv3N8controls4mppi11prefix_scanEN6thrust10device_ptrIfEE"></span><span id="_CPPv2N8controls4mppi11prefix_scanEN6thrust10device_ptrIfEE"></span><span id="controls::mppi::prefix_scan__thrust::device_ptr:float:"></span><span class="target" id="namespacecontrols_1_1mppi_1a36d733791fd015bc02177c0ede2eaa15"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">prefix_scan</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">normal</span></span><span class="sig-paren">)</span><br /></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>only works on n x m x q I think </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1a3153d78ed09a6c4551978469cc3bc68f"></span><span class="sig-name descname"><span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator+</span> <span class="pre">(const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;a1,</span> <span class="pre">const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;a2)</span></span></dt>
<dd><p>Operator Overloads for Device Action. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1a8b36b778fbfc96960da4358c77de6763"></span><span class="sig-name descname"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator*</span> <span class="pre">(T</span> <span class="pre">scalar,</span> <span class="pre">const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;action)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1ace023e67f7676e5b8b8dee8f4852b8c4"></span><span class="sig-name descname"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator*</span> <span class="pre">(const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;action,</span> <span class="pre">T</span> <span class="pre">scalar)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1mppi_1a03c15ca5630d2f8cf12740381478dd6e"></span><span class="sig-name descname"><span class="pre">template&lt;typename</span> <span class="pre">T&gt;</span> <span class="pre">static</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator/</span> <span class="pre">(const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;action,</span> <span class="pre">T</span> <span class="pre">scalar)</span></span></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi18TransformStdNormalE">
<span id="_CPPv3N8controls4mppi18TransformStdNormalE"></span><span id="_CPPv2N8controls4mppi18TransformStdNormalE"></span><span id="controls::mppi::TransformStdNormal"></span><span class="target" id="structcontrols_1_1mppi_1_1TransformStdNormal"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TransformStdNormal</span></span></span><br /></dt>
<dd><p>Modifies a disturbance tensor from standard normal to brownian in-place, keeping within reasonable bounds. TODO: add a reference to how this conversion works. </p>
<p>
Uses <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a28b12eb93b72c153595a0936cf2c718f"><span class="std std-ref">cuda_globals::perturbs_incr_std</span></a> for variance information. </p>
<dl class="field-list simple">
<dt class="field-odd">Param std_normals<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Standard normal disturbance tensor generated by cuRAND, size is <code class="docutils literal notranslate"><span class="pre">num_action_trajectories</span></code></p>
</dd>
<dt class="field-even">Param idx<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> index into <code class="docutils literal notranslate"><span class="pre">std_normals</span></code>, used by thrust::for_each</p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi18TransformStdNormal18TransformStdNormalEN6thrust10device_ptrIfEE">
<span id="_CPPv3N8controls4mppi18TransformStdNormal18TransformStdNormalEN6thrust10device_ptrIfEE"></span><span id="_CPPv2N8controls4mppi18TransformStdNormal18TransformStdNormalEN6thrust10device_ptrIfEE"></span><span id="controls::mppi::TransformStdNormal::TransformStdNormal__thrust::device_ptr:float:"></span><span class="target" id="structcontrols_1_1mppi_1_1TransformStdNormal_1a6dfa1fb67537921c86c86bfccd41c7b9"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TransformStdNormal</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">std_normals</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1TransformStdNormal_1ae5bcfccc07f82ec443436c15af98e492"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">operator()</span> <span class="pre">(size_t</span> <span class="pre">idx)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi18TransformStdNormal11std_normalsE">
<span id="_CPPv3N8controls4mppi18TransformStdNormal11std_normalsE"></span><span id="_CPPv2N8controls4mppi18TransformStdNormal11std_normalsE"></span><span id="controls::mppi::TransformStdNormal::std_normals__thrust::device_ptr:float:"></span><span class="target" id="structcontrols_1_1mppi_1_1TransformStdNormal_1a7bb039acfe9db3e7ff46e0997d5257cf"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">std_normals</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi18TransformStdNormal15m_sqrt_timestepE">
<span id="_CPPv3N8controls4mppi18TransformStdNormal15m_sqrt_timestepE"></span><span id="_CPPv2N8controls4mppi18TransformStdNormal15m_sqrt_timestepE"></span><span id="controls::mppi::TransformStdNormal::m_sqrt_timestep__float"></span><span class="target" id="structcontrols_1_1mppi_1_1TransformStdNormal_1a480160942d3ced41573498c27c6cf0fb"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_sqrt_timestep</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">sqrt</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls17controller_periodE" title="controls::controller_period"><span class="n"><span class="pre">controller_period</span></span></a><span class="p"><span class="pre">)</span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi21LogProbabilityDensityE">
<span id="_CPPv3N8controls4mppi21LogProbabilityDensityE"></span><span id="_CPPv2N8controls4mppi21LogProbabilityDensityE"></span><span id="controls::mppi::LogProbabilityDensity"></span><span class="target" id="structcontrols_1_1mppi_1_1LogProbabilityDensity"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogProbabilityDensity</span></span></span><br /></dt>
<dd><p>Computes and stores log probability density from sampled perturbations and covariance for importance sampling. TODO: not likelihood? </p>
<p>&#64;Author:Ayush Garg and Anthony Yip</p>
<p><a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1aa7a87e4512dab07a2b682ebfa7e91f52"><span class="std std-ref">cuda_globals::perturbs_incr_var_inv</span></a> TODO: link to LaTeX section on importance sampling TODO: figure out what happened to magic_constant (ugly thing with square roots and determinant of covariance) </p>
<dl class="field-list simple">
<dt class="field-odd">Param perturbation<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> n x m x q perturbation matrix </p>
</dd>
<dt class="field-even">Param log_probability_densities<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[out]</strong> n x m matrix to store result </p>
</dd>
<dt class="field-odd">Param idx<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> index from 0 to n x m, used for <code class="docutils literal notranslate"><span class="pre">thrust::for_each</span></code></p>
</dd>
</dl>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi21LogProbabilityDensity21LogProbabilityDensityEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEE">
<span id="_CPPv3N8controls4mppi21LogProbabilityDensity21LogProbabilityDensityEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEE"></span><span id="_CPPv2N8controls4mppi21LogProbabilityDensity21LogProbabilityDensityEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEE"></span><span id="controls::mppi::LogProbabilityDensity::LogProbabilityDensity__thrust::device_ptr:float:.thrust::device_ptr:float:"></span><span class="target" id="structcontrols_1_1mppi_1_1LogProbabilityDensity_1ade3341787db2c8c3ed666cca3314ce6d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">explicit</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LogProbabilityDensity</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">perturbation</span></span>, <span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">log_probability_densities</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1LogProbabilityDensity_1a89827c44cdc4f69d3a3919e4c0547576"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">operator()</span> <span class="pre">(size_t</span> <span class="pre">idx)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi21LogProbabilityDensity12perturbationE">
<span id="_CPPv3N8controls4mppi21LogProbabilityDensity12perturbationE"></span><span id="_CPPv2N8controls4mppi21LogProbabilityDensity12perturbationE"></span><span id="controls::mppi::LogProbabilityDensity::perturbation__thrust::device_ptr:float:"></span><span class="target" id="structcontrols_1_1mppi_1_1LogProbabilityDensity_1aedca90373e4dfde181d12a953260f471"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">perturbation</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi21LogProbabilityDensity25log_probability_densitiesE">
<span id="_CPPv3N8controls4mppi21LogProbabilityDensity25log_probability_densitiesE"></span><span id="_CPPv2N8controls4mppi21LogProbabilityDensity25log_probability_densitiesE"></span><span id="controls::mppi::LogProbabilityDensity::log_probability_densities__thrust::device_ptr:float:"></span><span class="target" id="structcontrols_1_1mppi_1_1LogProbabilityDensity_1a900e816c24ad152ecd9eeec02a835ae3"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_probability_densities</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCostE">
<span id="_CPPv3N8controls4mppi12PopulateCostE"></span><span id="_CPPv2N8controls4mppi12PopulateCostE"></span><span id="controls::mppi::PopulateCost"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PopulateCost</span></span></span><br /></dt>
<dd><p>Computes cost using the model and cost function, triangularizes both D and J. </p>
<p>&#64;params brownians[in] brownian perturbation with mean 0 sampled_action_trajectories[in] same as brownians? sampled_state_trajectories[in] for publishing states cost_to_gos[out] stores the negative cost so far log_prob_densities[in/out] stores the negative log_prob_densities so far action_trajectory_base[in]curr i[in] index over timesteps </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost12PopulateCostEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEERKN6thrust10device_ptrI12DeviceActionEE12DeviceAction">
<span id="_CPPv3N8controls4mppi12PopulateCost12PopulateCostEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEERKN6thrust10device_ptrI12DeviceActionEE12DeviceAction"></span><span id="_CPPv2N8controls4mppi12PopulateCost12PopulateCostEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEEN6thrust10device_ptrIfEERKN6thrust10device_ptrI12DeviceActionEE12DeviceAction"></span><span id="controls::mppi::PopulateCost::PopulateCost__thrust::device_ptr:float:.thrust::device_ptr:float:.thrust::device_ptr:float:.thrust::device_ptr:float:.thrust::device_ptr:DeviceAction:CR.DeviceAction"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a1892605cce65f1d8bfdd51294109578c"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PopulateCost</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">brownians</span></span>, <span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sampled_action_trajectories</span></span>, <span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cost_to_gos</span></span>, <span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">log_prob_densities</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">action_trajectory_base</span></span>, <a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">last_taken_action</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a6ee6586e8970a891cc24b74c9ac9780d"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">operator()</span> <span class="pre">(uint32_t</span> <span class="pre">i)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost9browniansE">
<span id="_CPPv3N8controls4mppi12PopulateCost9browniansE"></span><span id="_CPPv2N8controls4mppi12PopulateCost9browniansE"></span><span id="controls::mppi::PopulateCost::brownians__floatP"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1af2b8f9daa519f805d495226a19531f86"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">brownians</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost27sampled_action_trajectoriesE">
<span id="_CPPv3N8controls4mppi12PopulateCost27sampled_action_trajectoriesE"></span><span id="_CPPv2N8controls4mppi12PopulateCost27sampled_action_trajectoriesE"></span><span id="controls::mppi::PopulateCost::sampled_action_trajectories__floatP"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a526980a484ca60da75e0c1638907ed81"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">sampled_action_trajectories</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost11cost_to_gosE">
<span id="_CPPv3N8controls4mppi12PopulateCost11cost_to_gosE"></span><span id="_CPPv2N8controls4mppi12PopulateCost11cost_to_gosE"></span><span id="controls::mppi::PopulateCost::cost_to_gos__floatP"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a3162721ad5f28b0b2d82f8a3593b560f"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cost_to_gos</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost18log_prob_densitiesE">
<span id="_CPPv3N8controls4mppi12PopulateCost18log_prob_densitiesE"></span><span id="_CPPv2N8controls4mppi12PopulateCost18log_prob_densitiesE"></span><span id="controls::mppi::PopulateCost::log_prob_densities__floatP"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1aae609ae21cc9c38c00e90d7cf21ab28f"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_prob_densities</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost17last_taken_actionE">
<span id="_CPPv3N8controls4mppi12PopulateCost17last_taken_actionE"></span><span id="_CPPv2N8controls4mppi12PopulateCost17last_taken_actionE"></span><span id="controls::mppi::PopulateCost::last_taken_action__DeviceAction"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a2ab035145b4f137e0964a7c95d37f6eb"></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_taken_action</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12PopulateCost22action_trajectory_baseE">
<span id="_CPPv3N8controls4mppi12PopulateCost22action_trajectory_baseE"></span><span id="_CPPv2N8controls4mppi12PopulateCost22action_trajectory_baseE"></span><span id="controls::mppi::PopulateCost::action_trajectory_base__DeviceActionCP"></span><span class="target" id="structcontrols_1_1mppi_1_1PopulateCost_1a94d288a393c4046eb3e3b8886bd65d61"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">action_trajectory_base</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi10AddActionsE">
<span id="_CPPv3N8controls4mppi10AddActionsE"></span><span id="_CPPv2N8controls4mppi10AddActionsE"></span><span id="controls::mppi::AddActions"></span><span class="target" id="structcontrols_1_1mppi_1_1AddActions"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">AddActions</span></span></span><br /></dt>
<dd><p>Adds two device action. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1AddActions_1a53acf5be12b69cd499de35097f337d33"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator()</span> <span class="pre">(const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;a1,</span> <span class="pre">const</span> <span class="pre">DeviceAction</span> <span class="pre">&amp;a2)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4I_6size_tEN8controls4mppi5DivByE">
<span id="_CPPv3I_6size_tEN8controls4mppi5DivByE"></span><span id="_CPPv2I_6size_tEN8controls4mppi5DivByE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">k</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="structcontrols_1_1mppi_1_1DivBy"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DivBy</span></span></span><br /></dt>
<dd><p>Unary function to divide by the template parameter. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1DivBy_1a9ca90804ce797a8b265a62502ffe38ce"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__host__</span> <span class="pre">__device__</span> <span class="pre">size_t</span> <span class="pre">operator()</span> <span class="pre">(size_t</span> <span class="pre">i)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4I0EN8controls4mppi5EqualE">
<span id="_CPPv3I0EN8controls4mppi5EqualE"></span><span id="_CPPv2I0EN8controls4mppi5EqualE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="structcontrols_1_1mppi_1_1Equal"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Equal</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1Equal_1ab104c68758e1f1130a1451f04db446f6"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">bool</span> <span class="pre">operator()</span> <span class="pre">(T</span> <span class="pre">a,</span> <span class="pre">T</span> <span class="pre">b)</span></span></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTupleE">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTupleE"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTupleE"></span><span id="controls::mppi::IndexToActionWeightTuple"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexToActionWeightTuple</span></span></span><br /></dt>
<dd><p>Captures pointers to action trajectories and cost to gos Produces a weight for a single action based on its cost to go </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTuple24IndexToActionWeightTupleEP17ActionWeightTuplePKfPKfPKf">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTuple24IndexToActionWeightTupleEP17ActionWeightTuplePKfPKfPKf"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTuple24IndexToActionWeightTupleEP17ActionWeightTuplePKfPKfPKf"></span><span id="controls::mppi::IndexToActionWeightTuple::IndexToActionWeightTuple__ActionWeightTupleP.floatCP.floatCP.floatCP"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1a086fc2378039b05acda6a0bfd990daf2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IndexToActionWeightTuple</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi17ActionWeightTupleE" title="controls::mppi::ActionWeightTuple"><span class="n"><span class="pre">ActionWeightTuple</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">action_weight_tuples</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">action_trajectories</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cost_to_gos</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">log_prob_densities</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1abb636260cc225e33ae7d5fad6bfe851d"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">void</span> <span class="pre">operator()</span> <span class="pre">(const</span> <span class="pre">uint32_t</span> <span class="pre">idx)</span> <span class="pre">const</span></span></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idx</strong> – refers to the index for the timesteps x samples matrix (transposed from normal to make the reduction work) </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a tuple of the action indexed from the trajectories and the weight of that action (strictly positive) based on its cost to go </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTuple19action_trajectoriesE">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTuple19action_trajectoriesE"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTuple19action_trajectoriesE"></span><span id="controls::mppi::IndexToActionWeightTuple::action_trajectories__floatCP"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1a91b4419731ddb7780d4fc124d7b3bb1a"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">action_trajectories</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTuple11cost_to_gosE">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTuple11cost_to_gosE"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTuple11cost_to_gosE"></span><span id="controls::mppi::IndexToActionWeightTuple::cost_to_gos__floatCP"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1a4c988a4149bb513894dc7895bd17136e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">cost_to_gos</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTuple18log_prob_densitiesE">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTuple18log_prob_densitiesE"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTuple18log_prob_densitiesE"></span><span id="controls::mppi::IndexToActionWeightTuple::log_prob_densities__floatCP"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1a8a277de0b5991de9110c33bf0bba9c7b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_prob_densities</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi24IndexToActionWeightTuple20action_weight_tuplesE">
<span id="_CPPv3N8controls4mppi24IndexToActionWeightTuple20action_weight_tuplesE"></span><span id="_CPPv2N8controls4mppi24IndexToActionWeightTuple20action_weight_tuplesE"></span><span id="controls::mppi::IndexToActionWeightTuple::action_weight_tuples__ActionWeightTupleP"></span><span class="target" id="structcontrols_1_1mppi_1_1IndexToActionWeightTuple_1a2950d84be0a34fe802ea7e746dfec163"></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi17ActionWeightTupleE" title="controls::mppi::ActionWeightTuple"><span class="n"><span class="pre">ActionWeightTuple</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">action_weight_tuples</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi25ActionWeightTupleToActionE">
<span id="_CPPv3N8controls4mppi25ActionWeightTupleToActionE"></span><span id="_CPPv2N8controls4mppi25ActionWeightTupleToActionE"></span><span id="controls::mppi::ActionWeightTupleToAction"></span><span class="target" id="structcontrols_1_1mppi_1_1ActionWeightTupleToAction"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ActionWeightTupleToAction</span></span></span><br /></dt>
<dd><p>Extracts the action inside an <a class="reference internal" href="../struct/structcontrols_1_1mppi_1_1ActionWeightTuple.html#structcontrols_1_1mppi_1_1ActionWeightTuple"><span class="std std-ref">ActionWeightTuple</span></a>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="structcontrols_1_1mppi_1_1ActionWeightTupleToAction_1a83ff12ea7a15fe467de93d4026841ba0"></span><span class="sig-name descname"><span class="pre">inline</span> <span class="pre">__device__</span> <span class="pre">DeviceAction</span> <span class="pre">operator()</span> <span class="pre">(const</span> <span class="pre">ActionWeightTuple</span> <span class="pre">&amp;awt)</span> <span class="pre">const</span></span></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_ImplE">
<span id="_CPPv3N8controls4mppi19MppiController_ImplE"></span><span id="_CPPv2N8controls4mppi19MppiController_ImplE"></span><span id="controls::mppi::MppiController_Impl"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MppiController_Impl</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv48controls" title="controls"><span class="n"><span class="pre">controls</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/functors_cuh.html#_CPPv4N8controls4mppiE" title="controls::mppi"><span class="n"><span class="pre">mppi</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/MppiController.html#_CPPv4N8controls4mppi14MppiControllerE" title="controls::mppi::MppiController"><span class="n"><span class="pre">MppiController</span></span></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl19MppiController_ImplERNSt5mutexE10LoggerFunc">
<span id="_CPPv3N8controls4mppi19MppiController_Impl19MppiController_ImplERNSt5mutexE10LoggerFunc"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl19MppiController_ImplERNSt5mutexE10LoggerFunc"></span><span id="controls::mppi::MppiController_Impl::MppiController_Impl__std::mutexR.LoggerFunc"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1acbb9ff2415f23c6f6fa675d045dc79b7"></span><span class="sig-name descname"><span class="n"><span class="pre">MppiController_Impl</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">mutex</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Construct a new <a class="reference internal" href="namespacecontrols_1_1mppi.html#classcontrols_1_1mppi_1_1MppiController__Impl"><span class="std std-ref">MppiController_Impl</span></a> object. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mutex</strong> – Mutex to lock when TODO: what is this for? </p></li>
<li><p><strong>logger</strong> – Logger function to log messages </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl15generate_actionEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl15generate_actionEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl15generate_actionEv"></span><span id="controls::mppi::MppiController_Impl::generate_action"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1ad82d3d7e5faaf8b67d09d732adbdcf7c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generate_action</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl10set_loggerE10LoggerFunc">
<span id="_CPPv3N8controls4mppi19MppiController_Impl10set_loggerE10LoggerFunc"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl10set_loggerE10LoggerFunc"></span><span id="controls::mppi::MppiController_Impl::set_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a2a5fddbe49eb59753da471715972facf"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_logger</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_ImplD0Ev">
<span id="_CPPv3N8controls4mppi19MppiController_ImplD0Ev"></span><span id="_CPPv2N8controls4mppi19MppiController_ImplD0Ev"></span><span id="controls::mppi::MppiController_Impl::~MppiController_Impl"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a81cacb01a213ca193a1fcfb4f8a6a082"></span><span class="sig-name descname"><span class="n"><span class="pre">~MppiController_Impl</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-functions">Private Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl18generate_browniansEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl18generate_browniansEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl18generate_browniansEv"></span><span id="controls::mppi::MppiController_Impl::generate_brownians"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a6c94f40dfbc2d7fa64087f0e0f130e00"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generate_brownians</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Populates <code class="docutils literal notranslate"><span class="pre">m_action_trajectories</span></code> with samples taken from a zero-centered Brownian distrubtion. Computed for each sample trajectory in parallel (num_samples wide). </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl32generate_log_probability_densityEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl32generate_log_probability_densityEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl32generate_log_probability_densityEv"></span><span id="controls::mppi::MppiController_Impl::generate_log_probability_density"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a4d39a47aa1bc4eff148cad47657e74c0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generate_log_probability_density</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Generates log probability densities from the Brownian samples. Reads from <code class="docutils literal notranslate"><span class="pre">m_action_trajectories</span></code> and writes to <code class="docutils literal notranslate"><span class="pre">m_log_prob_densities</span></code>. Computed over each “control action” in parallel (num_samples * num_timesteps wide). </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl13populate_costEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl13populate_costEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl13populate_costEv"></span><span id="controls::mppi::MppiController_Impl::populate_cost"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1aa23713b2d73c410d0d2d0275c8d5285c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">populate_cost</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Calculates costs to go, storing them in <code class="docutils literal notranslate"><span class="pre">m_cost_to_gos</span></code>. Heavy lifting function. To calculate cost, reads from global state and spline information, and simulates state into the future using the dynamics model. Side effect of modifying <code class="docutils literal notranslate"><span class="pre">m_action_trajectories</span></code> by adding <code class="docutils literal notranslate"><span class="pre">m_last_action_trajectory</span></code>. Side effect of making m_log_prob_densities “to-go”. Reads/writes to every device vector except <code class="docutils literal notranslate"><span class="pre">m_action_weight_tuples</span></code>. Computed over each sample trajectory in parallel (num_samples wide). </p>
<p>rollout states and populate cost </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl29generate_action_weight_tuplesEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl29generate_action_weight_tuplesEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl29generate_action_weight_tuplesEv"></span><span id="controls::mppi::MppiController_Impl::generate_action_weight_tuples"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a954fbf7fbf1441a80a0366c853548956"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generate_action_weight_tuples</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl14reduce_actionsEv">
<span id="_CPPv3N8controls4mppi19MppiController_Impl14reduce_actionsEv"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl14reduce_actionsEv"></span><span id="controls::mppi::MppiController_Impl::reduce_actions"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1aae63807f0c3a26b01027fe321d13d221"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reduce_actions</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves action based on cost to go using reduction. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optimal control action based on state and spline information. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl24m_last_action_trajectoryE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl24m_last_action_trajectoryE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl24m_last_action_trajectoryE"></span><span id="controls::mppi::MppiController_Impl::m_last_action_trajectory__thrust::device_vector:DeviceAction:"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a9fe1c209de0dd2cd1ac14f2caba9ab9a"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_last_action_trajectory</span></span></span><br /></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>placing the member variables first to help with understanding what each member function interacts with. num_timesteps x action_dims device tensor. Best-guess action trajectory to which perturbations are added. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The only device tensor that is retained between each call to generate_action. </p>
</div>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl21m_action_trajectoriesE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl21m_action_trajectoriesE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl21m_action_trajectoriesE"></span><span id="controls::mppi::MppiController_Impl::m_action_trajectories__thrust::device_vector:float:"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1ad8ac21ae93d931db605447ed984b6d41"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_action_trajectories</span></span></span><br /></dt>
<dd><p>num_samples x num_timesteps x actions_dims (num_action_trajectories) device tensor. Used to store brownians, perturbed actions, and action trajectories at different points in the algorithm. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl13m_cost_to_gosE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl13m_cost_to_gosE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl13m_cost_to_gosE"></span><span id="controls::mppi::MppiController_Impl::m_cost_to_gos__thrust::device_vector:float:"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a23fe8fb7e21cdc67e7b2f581938d76d1"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_cost_to_gos</span></span></span><br /></dt>
<dd><p>num_samples x num_timesteps device tensor. Stores costs to go. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl20m_log_prob_densitiesE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl20m_log_prob_densitiesE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl20m_log_prob_densitiesE"></span><span id="controls::mppi::MppiController_Impl::m_log_prob_densities__thrust::device_vector:float:"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1aae3343f5855054ba4d60c16eddc476e0"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_log_prob_densities</span></span></span><br /></dt>
<dd><p>num_samples x num_timesteps device tensor. Stores the log probability densities (calculated after brownian generations), then made “to-go”. Used for importance sampling. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl22m_action_weight_tuplesE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl22m_action_weight_tuplesE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl22m_action_weight_tuplesE"></span><span id="controls::mppi::MppiController_Impl::m_action_weight_tuples__thrust::device_vector:ActionWeightTuple:"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a5992d9df11e0105a5f4ece3353960b06"></span><span class="n"><span class="pre">thrust</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">device_vector</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi17ActionWeightTupleE" title="controls::mppi::ActionWeightTuple"><span class="n"><span class="pre">ActionWeightTuple</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_action_weight_tuples</span></span></span><br /></dt>
<dd><p>num_samples x num_timesteps device tensor. Used to store the control actions and their corresponding weights (based on cost and log probability density). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl13m_last_actionE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl13m_last_actionE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl13m_last_actionE"></span><span id="controls::mppi::MppiController_Impl::m_last_action__DeviceAction"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1acbba1d190b4b3651778dce37bf4c7bce"></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_last_action</span></span></span><br /></dt>
<dd><p>last action generated by the controller. Used for ML-like momentum and display purposes. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl5m_rngE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl5m_rngE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl5m_rngE"></span><span id="controls::mppi::MppiController_Impl::m_rng__curandGenerator_t"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1af85cf53ac28952fbb07409a175b88dba"></span><span class="n"><span class="pre">curandGenerator_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_rng</span></span></span><br /></dt>
<dd><p>Pseudo random generator used to generate brownian perturbations. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl8m_loggerE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl8m_loggerE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl8m_loggerE"></span><span id="controls::mppi::MppiController_Impl::m_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a37bbeafbb7c5a601ddde68466a59e120"></span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_logger</span></span></span><br /></dt>
<dd><p>Logger for debugging. Can be attached to ROS or echo to std::cerr. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi19MppiController_Impl7m_mutexE">
<span id="_CPPv3N8controls4mppi19MppiController_Impl7m_mutexE"></span><span id="_CPPv2N8controls4mppi19MppiController_Impl7m_mutexE"></span><span id="controls::mppi::MppiController_Impl::m_mutex__std::mutexR"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController__Impl_1a9971d47a963bc8cb5a5c339f653efbce"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">m_mutex</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi14MppiControllerE">
<span id="_CPPv3N8controls4mppi14MppiControllerE"></span><span id="_CPPv2N8controls4mppi14MppiControllerE"></span><span id="controls::mppi::MppiController"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MppiController</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;mppi.hpp&gt;</em></div>
<p>MPPI Controller! In a nutshell, given: </p>
<p><ul class="simple">
<li><p>current inertial state in <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a0b61c5c826e379cd3bf865ab701244e3"><span class="std std-ref">cuda_globals::curr_state</span></a></p></li>
<li><p>a curvilinear lookup table in <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a3695c0ce3bc37280f3efca5f6c80ebe6"><span class="std std-ref">cuda_globals::curv_frame_lookup_tex</span></a></p></li>
<li><p>an existing control action trajectory from the previous run of MPPI it calculates the optimal control action to minimize a cost function. </p></li>
</ul>
</p>
<p>Subclassed by <a class="reference internal" href="namespacecontrols_1_1mppi.html#classcontrols_1_1mppi_1_1MppiController__Impl"><span class="std std-ref">controls::mppi::MppiController_Impl</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi14MppiController15generate_actionEv">
<span id="_CPPv3N8controls4mppi14MppiController15generate_actionEv"></span><span id="_CPPv2N8controls4mppi14MppiController15generate_actionEv"></span><span id="controls::mppi::MppiController::generate_action"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController_1a1f7002226885029e572a56692ecf13e7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">generate_action</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi14MppiController10set_loggerE10LoggerFunc">
<span id="_CPPv3N8controls4mppi14MppiController10set_loggerE10LoggerFunc"></span><span id="_CPPv2N8controls4mppi14MppiController10set_loggerE10LoggerFunc"></span><span id="controls::mppi::MppiController::set_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController_1a7980f292c8a2e81e0bfcbdb0931628a7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_logger</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi14MppiControllerD0Ev">
<span id="_CPPv3N8controls4mppi14MppiControllerD0Ev"></span><span id="_CPPv2N8controls4mppi14MppiControllerD0Ev"></span><span id="controls::mppi::MppiController::~MppiController"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController_1a09df50d9bf7ee2eb2ad096e1768530b0"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~MppiController</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi14MppiController6createERNSt5mutexE10LoggerFunc">
<span id="_CPPv3N8controls4mppi14MppiController6createERNSt5mutexE10LoggerFunc"></span><span id="_CPPv2N8controls4mppi14MppiController6createERNSt5mutexE10LoggerFunc"></span><span id="controls::mppi::MppiController::create__std::mutexR.LoggerFunc"></span><span class="target" id="classcontrols_1_1mppi_1_1MppiController_1aec36bbb2b43b6565916909cd46258e0b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../class/MppiController.html#_CPPv4N8controls4mppi14MppiControllerE" title="controls::mppi::MppiController"><span class="n"><span class="pre">MppiController</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">mutex</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6no_logEPKc" title="controls::no_log"><span class="n"><span class="pre">no_log</span></span></a><span class="sig-paren">)</span><br /></dt>
<dd><p>Essentially serves as a named constructor that grants ownership of a MPPIController to the caller. This is necessary because MPPIController is an abstract base class (a pointer is needed) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mutex</strong> – <strong>[in]</strong> Reference to the mutex that mppi will use TODO: who else uses it? no idea </p></li>
<li><p><strong>logger</strong> – <strong>[in]</strong> Function object of logger (string to void) TODO: is function object correct? </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the created MPPIController </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12DeviceActionE">
<span id="_CPPv3N8controls4mppi12DeviceActionE"></span><span id="_CPPv2N8controls4mppi12DeviceActionE"></span><span id="controls::mppi::DeviceAction"></span><span class="target" id="structcontrols_1_1mppi_1_1DeviceAction"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DeviceAction</span></span></span><br /></dt>
<dd><p>Control action TODO: figure out difference between Action (std::array vs struct) </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi12DeviceAction4dataE">
<span id="_CPPv3N8controls4mppi12DeviceAction4dataE"></span><span id="_CPPv2N8controls4mppi12DeviceAction4dataE"></span><span id="controls::mppi::DeviceAction::data__floatA"></span><span class="target" id="structcontrols_1_1mppi_1_1DeviceAction_1a8e710b0cedaad3f5a6c194ba25a06877"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../file/constants_hpp.html#_CPPv4N8controls11action_dimsE" title="controls::action_dims"><span class="n"><span class="pre">action_dims</span></span></a><span class="p"><span class="pre">]</span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi17ActionWeightTupleE">
<span id="_CPPv3N8controls4mppi17ActionWeightTupleE"></span><span id="_CPPv2N8controls4mppi17ActionWeightTupleE"></span><span id="controls::mppi::ActionWeightTuple"></span><span class="target" id="structcontrols_1_1mppi_1_1ActionWeightTuple"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ActionWeightTuple</span></span></span><br /></dt>
<dd><p>Control action coupled with weight for reduction. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi17ActionWeightTuple6actionE">
<span id="_CPPv3N8controls4mppi17ActionWeightTuple6actionE"></span><span id="_CPPv2N8controls4mppi17ActionWeightTuple6actionE"></span><span id="controls::mppi::ActionWeightTuple::action__DeviceAction"></span><span class="target" id="structcontrols_1_1mppi_1_1ActionWeightTuple_1a63b9294727a531f62262f08cbedb28a0"></span><a class="reference internal" href="../file/types_cuh.html#_CPPv4N8controls4mppi12DeviceActionE" title="controls::mppi::DeviceAction"><span class="n"><span class="pre">DeviceAction</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls4mppi17ActionWeightTuple10log_weightE">
<span id="_CPPv3N8controls4mppi17ActionWeightTuple10log_weightE"></span><span id="_CPPv2N8controls4mppi17ActionWeightTuple10log_weightE"></span><span id="controls::mppi::ActionWeightTuple::log_weight__float"></span><span class="target" id="structcontrols_1_1mppi_1_1ActionWeightTuple_1accdc10e52fd06ae413efdfcfd5e23bc8"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_weight</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5nodesE">
<span id="_CPPv3N8controls5nodesE"></span><span id="_CPPv2N8controls5nodesE"></span><span id="controls::nodes"></span><span class="target" id="namespacecontrols_1_1nodes"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">nodes</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5stateE">
<span id="_CPPv3N8controls5stateE"></span><span id="_CPPv2N8controls5stateE"></span><span id="controls::state"></span><span class="target" id="namespacecontrols_1_1state"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1state_1a7be0207a16e9808f87111306dc9bc4fc"></span><span class="sig-name descname"><span class="pre">constexpr</span> <span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span> <span class="pre">vertex_source</span>&#160; <span class="pre">=</span> <span class="pre">R&quot;(#version</span> <span class="pre">330</span> <span class="pre">core#extension</span> <span class="pre">GL_ARB_explicit_uniform_location</span> <span class="pre">:</span> <span class="pre">enablelayout</span> <span class="pre">(location</span> <span class="pre">=</span> <span class="pre">0)</span> <span class="pre">in</span> <span class="pre">vec2</span> <span class="pre">i_world_pos;layout</span> <span class="pre">(location</span> <span class="pre">=</span> <span class="pre">1)</span> <span class="pre">in</span> <span class="pre">vec3</span> <span class="pre">i_curv_pose;out</span> <span class="pre">vec3</span> <span class="pre">o_curv_pose;layout</span> <span class="pre">(location</span> <span class="pre">=</span> <span class="pre">0)</span> <span class="pre">uniform</span> <span class="pre">float</span> <span class="pre">scale;layout</span> <span class="pre">(location</span> <span class="pre">=</span> <span class="pre">1)</span> <span class="pre">uniform</span> <span class="pre">vec2</span> <span class="pre">center;const</span> <span class="pre">float</span> <span class="pre">far_frustum</span> <span class="pre">=</span> <span class="pre">10.0f;voidmain()</span> <span class="pre">{gl_Position</span> <span class="pre">=</span> <span class="pre">vec4(scale</span> <span class="pre">*</span> <span class="pre">(i_world_pos</span> <span class="pre">-</span> <span class="pre">center),</span> <span class="pre">abs(i_curv_pose.y)</span> <span class="pre">/</span> <span class="pre">far_frustum,</span> <span class="pre">1.0);o_curv_pose</span> <span class="pre">=</span> <span class="pre">i_curv_pose;})&quot;</span></span></dt>
<dd><p>GPU shader code - JIT compiled “”functor”” run for each vertex center for if we are doing slam and we are far away this is called a shader far_frustrum is for better precision we are not using w (homogenous coordinates) i_world_pos is from path planning </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="namespacecontrols_1_1state_1a6ef4583d3101034eea80aef2b6ce6ed2"></span><span class="sig-name descname"><span class="pre">constexpr</span> <span class="pre">const</span> <span class="pre">char</span> <span class="pre">*</span> <span class="pre">fragment_source</span>&#160; <span class="pre">=</span> <span class="pre">R&quot;(#version</span> <span class="pre">330</span> <span class="pre">corein</span> <span class="pre">vec3</span> <span class="pre">o_curv_pose;out</span> <span class="pre">vec4</span> <span class="pre">FragColor;voidmain()</span> <span class="pre">{FragColor</span> <span class="pre">=</span> <span class="pre">vec4(o_curv_pose,</span> <span class="pre">1.0f);})&quot;</span></span></dt>
<dd><p>Fragment shader Renders the color for each triangle (foreground) </p>
</dd></dl>

</div>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjectorE">
<span id="_CPPv3N8controls5state14StateProjectorE"></span><span id="_CPPv2N8controls5state14StateProjectorE"></span><span id="controls::state::StateProjector"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateProjector</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector13record_actionE6ActionN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateProjector13record_actionE6ActionN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateProjector13record_actionE6ActionN6rclcpp4TimeE"></span><span id="controls::state::StateProjector::record_action__Action.rclcpp::Time"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a256e989c343f63addcc5b34abcf2434b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_action</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">action</span></span>, <span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector12record_speedEfN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateProjector12record_speedEfN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateProjector12record_speedEfN6rclcpp4TimeE"></span><span id="controls::state::StateProjector::record_speed__float.rclcpp::Time"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1afb1e0be176718115afade11e5ec56ecd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_speed</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">speed</span></span>, <span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector11record_poseEfffN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateProjector11record_poseEfffN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateProjector11record_poseEfffN6rclcpp4TimeE"></span><span id="controls::state::StateProjector::record_pose__float.float.float.rclcpp::Time"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a9cf9e373cc8a0c2064120cb2e96e6181"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_pose</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">y</span></span>, <span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">yaw</span></span>, <span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK8controls5state14StateProjector7projectERKN6rclcpp4TimeE10LoggerFunc">
<span id="_CPPv3NK8controls5state14StateProjector7projectERKN6rclcpp4TimeE10LoggerFunc"></span><span id="_CPPv2NK8controls5state14StateProjector7projectERKN6rclcpp4TimeE10LoggerFunc"></span><span id="controls::state::StateProjector::project__rclcpp::TimeCR.LoggerFuncC"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a83fc533ff6dae38c311e22b440724c4b"></span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls5StateE" title="controls::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">project</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK8controls5state14StateProjector8is_readyEv">
<span id="_CPPv3NK8controls5state14StateProjector8is_readyEv"></span><span id="_CPPv2NK8controls5state14StateProjector8is_readyEv"></span><span id="controls::state::StateProjector::is_readyC"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a0611d6c0633a8684475a8a8ff1fe41a1"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_ready</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-functions">Private Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK8controls5state14StateProjector13print_historyEv">
<span id="_CPPv3NK8controls5state14StateProjector13print_historyEv"></span><span id="_CPPv2NK8controls5state14StateProjector13print_historyEv"></span><span id="controls::state::StateProjector::print_historyC"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a7461be037863ff421c91bbf8267ad482"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">print_history</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="classcontrols_1_1state_1_1StateProjector_1a14ca5e0f1a6e01757c6498d1a6cea0d8"></span><span class="sig-name descname"><span class="pre">Record</span> <span class="pre">m_init_action</span>&#160;&#160; <span class="pre">=</span> <span class="pre">{</span> <span class="pre">.action</span> <span class="pre">{},</span> <span class="pre">.time</span> <span class="pre">=</span> <span class="pre">rclcpp::Time(0UL,</span> <span class="pre">default_clock_type),</span> <span class="pre">.type</span> <span class="pre">=</span> <span class="pre">Record::Type::Action}</span></span></dt>
<dd><p>m_init_action and m_init_speed should occur &lt;= m_pose_record, if m_pose_record exists </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="classcontrols_1_1state_1_1StateProjector_1a7a6f4836308c8c61c726c78792e9b9a1"></span><span class="sig-name descname"><span class="pre">Record</span> <span class="pre">m_init_speed</span>&#160;&#160; <span class="pre">=</span> <span class="pre">{</span> <span class="pre">.speed</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">.time</span> <span class="pre">=</span> <span class="pre">rclcpp::Time(0UL,</span> <span class="pre">default_clock_type),</span> <span class="pre">.type</span> <span class="pre">=</span> <span class="pre">Record::Type::Speed}</span></span></dt>
<dd><p>direction of velocity is inferred from swangle </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector13m_pose_recordE">
<span id="_CPPv3N8controls5state14StateProjector13m_pose_recordE"></span><span id="_CPPv2N8controls5state14StateProjector13m_pose_recordE"></span><span id="controls::state::StateProjector::m_pose_record__std::optional:Record:"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1a9d28521e9cb7370badc9f4fed1f3168e"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_pose_record</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">nullopt</span></span><br /></dt>
<dd><p>most recent and only pose (new pose implies a new coord. frame, throw away data in old coord. frame) only nullopt before first pose received </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector20m_history_since_poseE">
<span id="_CPPv3N8controls5state14StateProjector20m_history_since_poseE"></span><span id="_CPPv2N8controls5state14StateProjector20m_history_since_poseE"></span><span id="controls::state::StateProjector::m_history_since_pose__std::multiset:Record.CompareRecordTimes:"></span><span class="target" id="classcontrols_1_1state_1_1StateProjector_1ac8c501620c31b29b92ef468fabb326eb"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">multiset</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector18CompareRecordTimesE" title="controls::state::StateProjector::CompareRecordTimes"><span class="n"><span class="pre">CompareRecordTimes</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_history_since_pose</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="p"><span class="pre">}</span></span><br /></dt>
<dd><p>Invariants of m_history_since_pose: should only contain Action and Speed records time stamps of each record should be strictly after m_pose_record </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector18CompareRecordTimesE">
<span id="_CPPv3N8controls5state14StateProjector18CompareRecordTimesE"></span><span id="_CPPv2N8controls5state14StateProjector18CompareRecordTimesE"></span><span id="controls::state::StateProjector::CompareRecordTimes"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1CompareRecordTimes"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CompareRecordTimes</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK8controls5state14StateProjector18CompareRecordTimesclERK6RecordRK6Record">
<span id="_CPPv3NK8controls5state14StateProjector18CompareRecordTimesclERK6RecordRK6Record"></span><span id="_CPPv2NK8controls5state14StateProjector18CompareRecordTimesclERK6RecordRK6Record"></span><span id="controls::state::StateProjector::CompareRecordTimes::call-operator__RecordCR.RecordCRC"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1CompareRecordTimes_1a3c68b38819fb4ff022c026c8cc617d61"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="k"><span class="pre">operator</span></span><span class="o"><span class="pre">()</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">a</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">b</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6RecordE">
<span id="_CPPv3N8controls5state14StateProjector6RecordE"></span><span id="_CPPv2N8controls5state14StateProjector6RecordE"></span><span id="controls::state::StateProjector::Record"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Record</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4TypeE">
<span id="_CPPv3N8controls5state14StateProjector6Record4TypeE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4TypeE"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a26ab6b0d4ea8474398fd0a6a0b98f0d8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Type</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4Type6ActionE">
<span id="_CPPv3N8controls5state14StateProjector6Record4Type6ActionE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4Type6ActionE"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a26ab6b0d4ea8474398fd0a6a0b98f0d8a004bf6c9a40003140292e97330236c53"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Action</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4Type5SpeedE">
<span id="_CPPv3N8controls5state14StateProjector6Record4Type5SpeedE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4Type5SpeedE"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a26ab6b0d4ea8474398fd0a6a0b98f0d8a44877c6aa8e93fa5a91c9361211464fb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Speed</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4Type4PoseE">
<span id="_CPPv3N8controls5state14StateProjector6Record4Type4PoseE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4Type4PoseE"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a26ab6b0d4ea8474398fd0a6a0b98f0d8a8109c9c9d6a2ca3bec3e006fe51a5f3e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Pose</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record6actionE">
<span id="_CPPv3N8controls5state14StateProjector6Record6actionE"></span><span id="_CPPv2N8controls5state14StateProjector6Record6actionE"></span><span id="controls::state::StateProjector::Record::action__Action"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a20425fdf6a590bc4ea0afa157fc728f3"></span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record5speedE">
<span id="_CPPv3N8controls5state14StateProjector6Record5speedE"></span><span id="_CPPv2N8controls5state14StateProjector6Record5speedE"></span><span id="controls::state::StateProjector::Record::speed__float"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a758c10b749de27daa2611a3a3a6631cb"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">speed</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record1xE">
<span id="_CPPv3N8controls5state14StateProjector6Record1xE"></span><span id="_CPPv2N8controls5state14StateProjector6Record1xE"></span><span id="controls::state::StateProjector::Record::x__float"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1ad7fcf9c1fed503c5a4a9dd6114de24ac"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">x</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record1yE">
<span id="_CPPv3N8controls5state14StateProjector6Record1yE"></span><span id="_CPPv2N8controls5state14StateProjector6Record1yE"></span><span id="controls::state::StateProjector::Record::y__float"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a90fa4b695a8828b778196b9f3735a935"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">y</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record3yawE">
<span id="_CPPv3N8controls5state14StateProjector6Record3yawE"></span><span id="_CPPv2N8controls5state14StateProjector6Record3yawE"></span><span id="controls::state::StateProjector::Record::yaw__float"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1adf27f0fc7cbdcf7895281630a972b3ea"></span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">yaw</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4poseE">
<span id="_CPPv3N8controls5state14StateProjector6Record4poseE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4poseE"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1acccfb235856f2feaa8cde37539eac56d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv48controls" title="controls"><span class="n"><span class="pre">controls</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/state__estimator_8cuh.html#_CPPv4N8controls5stateE" title="controls::state"><span class="n"><span class="pre">state</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjectorE" title="controls::state::StateProjector"><span class="n"><span class="pre">StateProjector</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pose</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6RecordUt1_1E">
<span id="_CPPv3N8controls5state14StateProjector6RecordUt1_1E"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a2ba99bf893644f889374431654b54893"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv48controls" title="controls"><span class="n"><span class="pre">controls</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/state__estimator_8cuh.html#_CPPv4N8controls5stateE" title="controls::state"><span class="n"><span class="pre">state</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjectorE" title="controls::state::StateProjector"><span class="n"><span class="pre">StateProjector</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6RecordE" title="controls::state::StateProjector::Record"><span class="n"><span class="pre">Record</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">[anonymous]</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">[anonymous]</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4timeE">
<span id="_CPPv3N8controls5state14StateProjector6Record4timeE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4timeE"></span><span id="controls::state::StateProjector::Record::time__rclcpp::Time"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1a5a14f3c1e734daa09e79a5d52078dc53"></span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">time</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateProjector6Record4typeE">
<span id="_CPPv3N8controls5state14StateProjector6Record4typeE"></span><span id="_CPPv2N8controls5state14StateProjector6Record4typeE"></span><span id="controls::state::StateProjector::Record::type__Type"></span><span class="target" id="structcontrols_1_1state_1_1StateProjector_1_1Record_1aca63f8f5bdf7398bfc4f756558faa293"></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjector6Record4TypeE" title="controls::state::StateProjector::Record::Type"><span class="n"><span class="pre">Type</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_ImplE">
<span id="_CPPv3N8controls5state19StateEstimator_ImplE"></span><span id="_CPPv2N8controls5state19StateEstimator_ImplE"></span><span id="controls::state::StateEstimator_Impl"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateEstimator_Impl</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../file/constants_hpp.html#_CPPv48controls" title="controls"><span class="n"><span class="pre">controls</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/state__estimator_8cuh.html#_CPPv4N8controls5stateE" title="controls::state"><span class="n"><span class="pre">state</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../class/StateEstimator.html#_CPPv4N8controls5state14StateEstimatorE" title="controls::state::StateEstimator"><span class="n"><span class="pre">StateEstimator</span></span></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl19StateEstimator_ImplERNSt5mutexE10LoggerFunc">
<span id="_CPPv3N8controls5state19StateEstimator_Impl19StateEstimator_ImplERNSt5mutexE10LoggerFunc"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl19StateEstimator_ImplERNSt5mutexE10LoggerFunc"></span><span id="controls::state::StateEstimator_Impl::StateEstimator_Impl__std::mutexR.LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a87bd990d4d26a36d5b523dfe4c051ec8"></span><span class="sig-name descname"><span class="n"><span class="pre">StateEstimator_Impl</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">mutex</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl9on_splineERK9SplineMsg">
<span id="_CPPv3N8controls5state19StateEstimator_Impl9on_splineERK9SplineMsg"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl9on_splineERK9SplineMsg"></span><span id="controls::state::StateEstimator_Impl::on_spline__SplineMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1aa59900704f8a0393ea518ed290dbbda0"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls9SplineMsgE" title="controls::SplineMsg"><span class="n"><span class="pre">SplineMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">spline_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Callback for spline messages. Updates the state estimator with the new spline. Used for both state projection and curvilinear state lookup table generation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spline_msg</strong> – The spline message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl8on_twistERK8TwistMsgRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator_Impl::on_twist__TwistMsgCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1ae02083ea2b207737afa02fa6fe6b990a"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_twist</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls8TwistMsgE" title="controls::TwistMsg"><span class="n"><span class="pre">TwistMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">twist_msg</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Callback for twist messages. Updates the state estimator with the new twist. Used for state projection. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>twist_msg</strong> – The spline message </p></li>
<li><p><strong>time</strong> – &#64;TODO why does this need to be passed in? </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl7on_poseERK7PoseMsg">
<span id="_CPPv3N8controls5state19StateEstimator_Impl7on_poseERK7PoseMsg"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl7on_poseERK7PoseMsg"></span><span id="controls::state::StateEstimator_Impl::on_pose__PoseMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a784a0e6eee065f985b4b1addafeb4247"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_pose</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls7PoseMsgE" title="controls::PoseMsg"><span class="n"><span class="pre">PoseMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pose_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Callback for pose messages. Can be used for state projection, but currently unused. Reason: position given by spline instead, yaw given by steering wheel angle. Pose meanwhile is noisy? </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pose_msg</strong> – The pose message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl14sync_to_deviceERKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator_Impl::sync_to_device__rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a078636abc661e272e32e140c60e0dde8"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_to_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>“main” function of the state estimator. Calculates current inertial state and the inertial-to-curvilinear lookup table, then syncs them to the GPU for MPPI use. (into <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a3695c0ce3bc37280f3efca5f6c80ebe6"><span class="std std-ref">cuda_globals::curv_frame_lookup_tex</span></a> and <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a0b61c5c826e379cd3bf865ab701244e3"><span class="std std-ref">cuda_globals::curr_state</span></a> respectively) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> – The current time </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl8is_readyEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl8is_readyEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl8is_readyEv"></span><span id="controls::state::StateEstimator_Impl::is_ready"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a490b980aff7030369db8ec7dcbb98da2"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_ready</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Returns whether state projection is ready. If not, the MPPI controller should wait. This should only be not ready when the state estimator is first initialized. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if state projection is ready, False otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl19get_projected_stateEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl19get_projected_stateEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl19get_projected_stateEv"></span><span id="controls::state::StateEstimator_Impl::get_projected_state"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a989f9ab810508a712eabf71148f5a055"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls5StateE" title="controls::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_projected_state</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Esimates and returns current state by projecting from last known twist/spline information. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spline provides state information since car is at (0, 0) relative to a new spline. &#64;TODO Why must this be a public function? For debugging reasons? </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current estimated state </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl10set_loggerE10LoggerFunc">
<span id="_CPPv3N8controls5state19StateEstimator_Impl10set_loggerE10LoggerFunc"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl10set_loggerE10LoggerFunc"></span><span id="controls::state::StateEstimator_Impl::set_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a75d014fadb540ee13acb07417a7fcac0"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_logger</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Sets the logger function for the state estimator. Can be integrated with ROS or print to stdout. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>logger</strong> – The logger function to be used. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl26get_orig_spline_data_stampEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl26get_orig_spline_data_stampEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl26get_orig_spline_data_stampEv"></span><span id="controls::state::StateEstimator_Impl::get_orig_spline_data_stamp"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a9e7babf4fdce0c33f7bc05699319b335"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_orig_spline_data_stamp</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Returns the timestamp of the last spline message received. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the last spline message received. &#64;TODO verify copilot isnt trolling me </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl21record_control_actionERK6ActionRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator_Impl::record_control_action__ActionCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1ac727708a93ff2e99604b6aeaa0cc53a3"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_control_action</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">action</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Records a control action for state projection purposes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> – The control action to record </p></li>
<li><p><strong>ros_time</strong> – The time the action was recorded </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_ImplD0Ev">
<span id="_CPPv3N8controls5state19StateEstimator_ImplD0Ev"></span><span id="_CPPv2N8controls5state19StateEstimator_ImplD0Ev"></span><span id="controls::state::StateEstimator_Impl::~StateEstimator_Impl"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a2fc709c9c0911a0f0f5969524a855f73"></span><span class="sig-name descname"><span class="n"><span class="pre">~StateEstimator_Impl</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-functions">Private Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl12gen_tex_infoEN3glm5fvec2E">
<span id="_CPPv3N8controls5state19StateEstimator_Impl12gen_tex_infoEN3glm5fvec2E"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl12gen_tex_infoEN3glm5fvec2E"></span><span id="controls::state::StateEstimator_Impl::gen_tex_info__glm::fvec2"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a114daf460b0fd1e1872d89891410162d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gen_tex_info</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">glm</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">fvec2</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">car_pos</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl24render_curv_frame_lookupEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl24render_curv_frame_lookupEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl24render_curv_frame_lookupEv"></span><span id="controls::state::StateEstimator_Impl::render_curv_frame_lookup"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a6fecdb88eaabfc38aba249c496e3bf7d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">render_curv_frame_lookup</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl21map_curv_frame_lookupEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl21map_curv_frame_lookupEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl21map_curv_frame_lookupEv"></span><span id="controls::state::StateEstimator_Impl::map_curv_frame_lookup"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1afb2122affa4b1c0d67eccc20a5b53717"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">map_curv_frame_lookup</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a CUDA texture that refers to the frame buffer &lt;- this can’t be referred to directly. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl23unmap_curv_frame_lookupEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl23unmap_curv_frame_lookupEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl23unmap_curv_frame_lookupEv"></span><span id="controls::state::StateEstimator_Impl::unmap_curv_frame_lookup"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1acbb92bf7bb4206b87d0fae42b22715e6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unmap_curv_frame_lookup</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>you can’t render to something when it is mapped. have to unmap before rendering </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl16sync_world_stateEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl16sync_world_stateEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl16sync_world_stateEv"></span><span id="controls::state::StateEstimator_Impl::sync_world_state"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a8e6e0e53330e41869902486a31fcf41f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_world_state</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl13sync_tex_infoEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl13sync_tex_infoEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl13sync_tex_infoEv"></span><span id="controls::state::StateEstimator_Impl::sync_tex_info"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1ae6faa6851431e4c46ff3c1204da06c73"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_tex_info</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl33gen_curv_frame_lookup_framebufferEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl33gen_curv_frame_lookup_framebufferEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl33gen_curv_frame_lookup_framebufferEv"></span><span id="controls::state::StateEstimator_Impl::gen_curv_frame_lookup_framebuffer"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1af7b82c7a94fb0694a1e9e65f03b50568"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gen_curv_frame_lookup_framebuffer</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl11gen_gl_pathEv">
<span id="_CPPv3N8controls5state19StateEstimator_Impl11gen_gl_pathEv"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl11gen_gl_pathEv"></span><span id="controls::state::StateEstimator_Impl::gen_gl_path"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a388926f34c52e23339206a0b598ad238"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gen_gl_path</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /></dt>
<dd><p>vertex array object vertex buffer object element buffer object (describes the triangle indices (into the vbo)) Creates the buffers to be used, as well as the descriptions of how the buffers are laid out. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl17fill_path_buffersEN3glm5fvec2E">
<span id="_CPPv3N8controls5state19StateEstimator_Impl17fill_path_buffersEN3glm5fvec2E"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl17fill_path_buffersEN3glm5fvec2E"></span><span id="controls::state::StateEstimator_Impl::fill_path_buffers__glm::fvec2"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1afd8e5bcdaafa30840ea06d9a9a9f2c65"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fill_path_buffers</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">glm</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">fvec2</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">car_pos</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Filling vertex data and creating the triangles. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl15m_spline_framesE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl15m_spline_framesE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl15m_spline_framesE"></span><span id="controls::state::StateEstimator_Impl::m_spline_frames__std::vector:glm::fvec2:"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a6726e21aa5e17b8c053f349ed2c17a42"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">glm</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">fvec2</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_spline_frames</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl17m_state_projectorE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl17m_state_projectorE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl17m_state_projectorE"></span><span id="controls::state::StateEstimator_Impl::m_state_projector__StateProjector"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1aadc17a71d1651223cac03814acccfc43"></span><a class="reference internal" href="../class/StateProjector.html#_CPPv4N8controls5state14StateProjectorE" title="controls::state::StateProjector"><span class="n"><span class="pre">StateProjector</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_state_projector</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl24m_synced_projected_stateE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl24m_synced_projected_stateE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl24m_synced_projected_stateE"></span><span id="controls::state::StateEstimator_Impl::m_synced_projected_state__State"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a9729825b17ef51d0b96485c605d20ca2"></span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls5StateE" title="controls::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_synced_projected_state</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl24m_orig_spline_data_stampE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl24m_orig_spline_data_stampE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl24m_orig_spline_data_stampE"></span><span id="controls::state::StateEstimator_Impl::m_orig_spline_data_stamp__rclcpp::Time"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a231537df164f2ba230eb926883103471"></span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_orig_spline_data_stamp</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rscE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rscE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rscE"></span><span id="controls::state::StateEstimator_Impl::m_curv_frame_lookup_rsc__cudaGraphicsResource_t"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a0828e276836e7d2640916950e07d8b6f"></span><span class="n"><span class="pre">cudaGraphicsResource_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_curv_frame_lookup_rsc</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl28m_curv_frame_lookup_tex_infoE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl28m_curv_frame_lookup_tex_infoE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl28m_curv_frame_lookup_tex_infoE"></span><span id="controls::state::StateEstimator_Impl::m_curv_frame_lookup_tex_info__cuda_globals::CurvFrameLookupTexInfo"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1ae868e0a371d36543a1abd84bc73c921d"></span><a class="reference internal" href="../file/cuda__globals_8cu.html#_CPPv4N8controls12cuda_globalsE" title="controls::cuda_globals"><span class="n"><span class="pre">cuda_globals</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/cuda_globals_cuh.html#_CPPv4N8controls12cuda_globals22CurvFrameLookupTexInfoE" title="controls::cuda_globals::CurvFrameLookupTexInfo"><span class="n"><span class="pre">CurvFrameLookupTexInfo</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_curv_frame_lookup_tex_info</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_fboE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_fboE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_fboE"></span><span id="controls::state::StateEstimator_Impl::m_curv_frame_lookup_fbo__GLuint"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a50b7805e679281c13695527dc4d5ba44"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_curv_frame_lookup_fbo</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rboE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rboE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl23m_curv_frame_lookup_rboE"></span><span id="controls::state::StateEstimator_Impl::m_curv_frame_lookup_rbo__GLuint"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a39ca12555266a4e49334adbeefc100f8"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_curv_frame_lookup_rbo</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl9m_gl_pathE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl9m_gl_pathE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl9m_gl_pathE"></span><span id="controls::state::StateEstimator_Impl::m_gl_path__utils::GLObj"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a94dd1d1200cbae77c54beba1f36ca505"></span><a class="reference internal" href="../file/gl__utils_8cpp.html#_CPPv4N8controls5utilsE" title="controls::utils"><span class="n"><span class="pre">utils</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../file/gl__utils_8hpp.html#_CPPv4N8controls5utils5GLObjE" title="controls::utils::GLObj"><span class="n"><span class="pre">GLObj</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_gl_path</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl16m_gl_path_shaderE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl16m_gl_path_shaderE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl16m_gl_path_shaderE"></span><span id="controls::state::StateEstimator_Impl::m_gl_path_shader__GLuint"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a4b6e5dd7921cf10491a6c0497a62f0f6"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_gl_path_shader</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl11m_gl_windowE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl11m_gl_windowE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl11m_gl_windowE"></span><span id="controls::state::StateEstimator_Impl::m_gl_window__SDL_WindowP"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1abecb7b92002e7080baf4fb9dec360180"></span><span class="n"><span class="pre">SDL_Window</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">m_gl_window</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl12m_gl_contextE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl12m_gl_contextE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl12m_gl_contextE"></span><span id="controls::state::StateEstimator_Impl::m_gl_context__SDL_GLContext"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1aea3b0ec49b1c2e5f6e18c22ca9b3da43"></span><span class="n"><span class="pre">SDL_GLContext</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_gl_context</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl18m_gl_context_mutexE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl18m_gl_context_mutexE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl18m_gl_context_mutexE"></span><span id="controls::state::StateEstimator_Impl::m_gl_context_mutex__std::mutex"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a2437a3c386360f06148c94029145cd22"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_gl_context_mutex</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl26m_curv_frame_lookup_mappedE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl26m_curv_frame_lookup_mappedE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl26m_curv_frame_lookup_mappedE"></span><span id="controls::state::StateEstimator_Impl::m_curv_frame_lookup_mapped__b"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1aeb4f5fe007f51ae5392caf9b5faf4c96"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_curv_frame_lookup_mapped</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl8m_loggerE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl8m_loggerE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl8m_loggerE"></span><span id="controls::state::StateEstimator_Impl::m_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a4de28f77c37b1ed4791f1d512a349c13"></span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">m_logger</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl7m_mutexE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl7m_mutexE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl7m_mutexE"></span><span id="controls::state::StateEstimator_Impl::m_mutex__std::mutexR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1af4baea154aabaf733c0f2972bb4fc3b5"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">m_mutex</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-static-attributes">Private Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl16shader_scale_locE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl16shader_scale_locE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl16shader_scale_locE"></span><span id="controls::state::StateEstimator_Impl::shader_scale_loc__GLint"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1a324ee0fd511c760c41c92204bd805957"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">GLint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shader_scale_loc</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state19StateEstimator_Impl17shader_center_locE">
<span id="_CPPv3N8controls5state19StateEstimator_Impl17shader_center_locE"></span><span id="_CPPv2N8controls5state19StateEstimator_Impl17shader_center_locE"></span><span id="controls::state::StateEstimator_Impl::shader_center_loc__GLint"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator__Impl_1ab556bcdceac20cb17066326dd74e6212"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">constexpr</span></span><span class="w"> </span><span class="n"><span class="pre">GLint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">shader_center_loc</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimatorE">
<span id="_CPPv3N8controls5state14StateEstimatorE"></span><span id="_CPPv2N8controls5state14StateEstimatorE"></span><span id="controls::state::StateEstimator"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateEstimator</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;state_estimator.hpp&gt;</em></div>
<p>State Estimator! In a nutshell, given twist and spline information through ROS messages, it estimates: </p>
<p><ul class="simple">
<li><p>the current inertial state of the vehicle (by using our model to project from stale data)</p></li>
<li><p>a lookup table from inertial state to curviliniear state based on the spline and OpenGL magic Then it syncs these to the GPU for the MPPI controller to use. </p></li>
</ul>
</p>
<p>Subclassed by <a class="reference internal" href="namespacecontrols_1_1state.html#classcontrols_1_1state_1_1StateEstimator__Impl"><span class="std std-ref">controls::state::StateEstimator_Impl</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::sync_to_device__rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1ac011e98108892711ce593ec3861883c7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_to_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>“main” function of the state estimator. Calculates current inertial state and the inertial-to-curvilinear lookup table, then syncs them to the GPU for MPPI use. (into <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a3695c0ce3bc37280f3efca5f6c80ebe6"><span class="std std-ref">cuda_globals::curv_frame_lookup_tex</span></a> and <a class="reference internal" href="namespacecontrols_1_1cuda__globals.html#namespacecontrols_1_1cuda__globals_1a0b61c5c826e379cd3bf865ab701244e3"><span class="std std-ref">cuda_globals::curr_state</span></a> respectively) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> – The current time </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator9on_splineERK9SplineMsg">
<span id="_CPPv3N8controls5state14StateEstimator9on_splineERK9SplineMsg"></span><span id="_CPPv2N8controls5state14StateEstimator9on_splineERK9SplineMsg"></span><span id="controls::state::StateEstimator::on_spline__SplineMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a58056ddfbbe90589d7039056cb724088"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls9SplineMsgE" title="controls::SplineMsg"><span class="n"><span class="pre">SplineMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">spline_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Callback for spline messages. Updates the state estimator with the new spline. Used for both state projection and curvilinear state lookup table generation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spline_msg</strong> – The spline message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::on_twist__TwistMsgCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1afeb74513a3953688672cfe933510eb63"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_twist</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls8TwistMsgE" title="controls::TwistMsg"><span class="n"><span class="pre">TwistMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">twist_msg</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Callback for twist messages. Updates the state estimator with the new twist. Used for state projection. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>twist_msg</strong> – The spline message </p></li>
<li><p><strong>time</strong> – &#64;TODO why does this need to be passed in? </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator7on_poseERK7PoseMsg">
<span id="_CPPv3N8controls5state14StateEstimator7on_poseERK7PoseMsg"></span><span id="_CPPv2N8controls5state14StateEstimator7on_poseERK7PoseMsg"></span><span id="controls::state::StateEstimator::on_pose__PoseMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a609f189e03263965c699d92a293b11c6"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_pose</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls7PoseMsgE" title="controls::PoseMsg"><span class="n"><span class="pre">PoseMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pose_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Callback for pose messages. Can be used for state projection, but currently unused. Reason: position given by spline instead, yaw given by steering wheel angle. Pose meanwhile is noisy? </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pose_msg</strong> – The pose message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator8is_readyEv">
<span id="_CPPv3N8controls5state14StateEstimator8is_readyEv"></span><span id="_CPPv2N8controls5state14StateEstimator8is_readyEv"></span><span id="controls::state::StateEstimator::is_ready"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1aa0cf7078c14a49cd0b0d9a6c01f3da74"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_ready</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Returns whether state projection is ready. If not, the MPPI controller should wait. This should only be not ready when the state estimator is first initialized. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if state projection is ready, False otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator19get_projected_stateEv">
<span id="_CPPv3N8controls5state14StateEstimator19get_projected_stateEv"></span><span id="_CPPv2N8controls5state14StateEstimator19get_projected_stateEv"></span><span id="controls::state::StateEstimator::get_projected_state"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1ab4034a7d5e053e5cc6b75a1b0c40a8df"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls5StateE" title="controls::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_projected_state</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Esimates and returns current state by projecting from last known twist/spline information. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spline provides state information since car is at (0, 0) relative to a new spline. &#64;TODO Why must this be a public function? For debugging reasons? </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The current estimated state </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator10set_loggerE10LoggerFunc">
<span id="_CPPv3N8controls5state14StateEstimator10set_loggerE10LoggerFunc"></span><span id="_CPPv2N8controls5state14StateEstimator10set_loggerE10LoggerFunc"></span><span id="controls::state::StateEstimator::set_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1af1c15841245106d5c3e348eabd40533e"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_logger</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Sets the logger function for the state estimator. Can be integrated with ROS or print to stdout. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>logger</strong> – The logger function to be used. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator26get_orig_spline_data_stampEv">
<span id="_CPPv3N8controls5state14StateEstimator26get_orig_spline_data_stampEv"></span><span id="_CPPv2N8controls5state14StateEstimator26get_orig_spline_data_stampEv"></span><span id="controls::state::StateEstimator::get_orig_spline_data_stamp"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a4c6fdde239491c5e8b93982e8bfb5934"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_orig_spline_data_stamp</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Returns the timestamp of the last spline message received. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the last spline message received. &#64;TODO verify copilot isnt trolling me </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::record_control_action__ActionCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a601647e23b593c357f5cbfae2daa51a2"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_control_action</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">action</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ros_time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Records a control action for state projection purposes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> – The control action to record </p></li>
<li><p><strong>ros_time</strong> – The time the action was recorded </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimatorD0Ev">
<span id="_CPPv3N8controls5state14StateEstimatorD0Ev"></span><span id="_CPPv2N8controls5state14StateEstimatorD0Ev"></span><span id="controls::state::StateEstimator::~StateEstimator"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1adbb2678e027559bb19fbac59f0d8c0dc"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~StateEstimator</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><br /></dt>
<dd><p>Virtual destructor for the state estimator. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc">
<span id="_CPPv3N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc"></span><span id="_CPPv2N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc"></span><span id="controls::state::StateEstimator::create__std::mutexR.LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1aa162a27294e73c5d8f6871e9c7dc9b3a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../class/StateEstimator.html#_CPPv4N8controls5state14StateEstimatorE" title="controls::state::StateEstimator"><span class="n"><span class="pre">StateEstimator</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">mutex</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6no_logEPKc" title="controls::no_log"><span class="n"><span class="pre">no_log</span></span></a><span class="sig-paren">)</span><br /></dt>
<dd><p>Essentially serves as a named constructor that grants ownership of a <a class="reference internal" href="namespacecontrols_1_1state.html#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a> to the caller. This is necessary because <a class="reference internal" href="namespacecontrols_1_1state.html#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a> is an abstract base class (a pointer is needed) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mutex</strong> – <strong>[in]</strong> Reference to the mutex that state estimator will use TODO: who else uses it? prevents any public function from being called concurrently - enabling same CUDA context (undefined) </p></li>
<li><p><strong>logger</strong> – <strong>[in]</strong> Function object of logger (string to void) TODO: is function object correct? </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the created <a class="reference internal" href="namespacecontrols_1_1state.html#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a></p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utilsE">
<span id="_CPPv3N8controls5utilsE"></span><span id="_CPPv2N8controls5utilsE"></span><span id="controls::utils"></span><span class="target" id="namespacecontrols_1_1utils"></span><span class="k"><span class="pre">namespace</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">utils</span></span></span><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils21create_sdl2_gl_windowEPKcii6Uint32P13SDL_GLContext">
<span id="_CPPv3N8controls5utils21create_sdl2_gl_windowEPKcii6Uint32P13SDL_GLContext"></span><span id="_CPPv2N8controls5utils21create_sdl2_gl_windowEPKcii6Uint32P13SDL_GLContext"></span><span id="controls::utils::create_sdl2_gl_window__cCP.i.i.Uint32.SDL_GLContextP"></span><span class="target" id="namespacecontrols_1_1utils_1a452a855489b549a3cf0f94092c14f40e"></span><span class="n"><span class="pre">SDL_Window</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">create_sdl2_gl_window</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">title</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">width</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">height</span></span>, <span class="n"><span class="pre">Uint32</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">additional_flags</span></span>, <span class="n"><span class="pre">SDL_GLContext</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">gl_context_out</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils17print_program_logE6GLuint">
<span id="_CPPv3N8controls5utils17print_program_logE6GLuint"></span><span id="_CPPv2N8controls5utils17print_program_logE6GLuint"></span><span id="controls::utils::print_program_log__GLuint"></span><span class="target" id="namespacecontrols_1_1utils_1afa8921d43606028552130474cbd2985b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">print_program_log</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">program</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils16print_shader_logE6GLuint">
<span id="_CPPv3N8controls5utils16print_shader_logE6GLuint"></span><span id="_CPPv2N8controls5utils16print_shader_logE6GLuint"></span><span id="controls::utils::print_shader_log__GLuint"></span><span class="target" id="namespacecontrols_1_1utils_1a70cc746a9575ce7de5296a2a3b476c30"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">print_shader_log</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">shader</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils17gl_debug_callbackE6GLenum6GLenum6GLuint6GLenum7GLsizeiPK6GLcharPKv">
<span id="_CPPv3N8controls5utils17gl_debug_callbackE6GLenum6GLenum6GLuint6GLenum7GLsizeiPK6GLcharPKv"></span><span id="_CPPv2N8controls5utils17gl_debug_callbackE6GLenum6GLenum6GLuint6GLenum7GLsizeiPK6GLcharPKv"></span><span id="controls::utils::gl_debug_callback__GLenum.GLenum.GLuint.GLenum.GLsizei.GLcharCP.voidCP"></span><span class="target" id="namespacecontrols_1_1utils_1a3a600a27a41422421132c6f4907ed48a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gl_debug_callback</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">GLenum</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">source</span></span>, <span class="n"><span class="pre">GLenum</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <span class="n"><span class="pre">GLenum</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">severity</span></span>, <span class="n"><span class="pre">GLsizei</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">GLchar</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">message</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">userParam</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils14compile_shaderEPKcPKc">
<span id="_CPPv3N8controls5utils14compile_shaderEPKcPKc"></span><span id="_CPPv2N8controls5utils14compile_shaderEPKcPKc"></span><span id="controls::utils::compile_shader__cCP.cCP"></span><span class="target" id="namespacecontrols_1_1utils_1a7025c3a78225c49fee4a1632123dabc0"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">compile_shader</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">vertex_source</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fragment_source</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils25make_gl_current_or_exceptEP10SDL_Window13SDL_GLContext">
<span id="_CPPv3N8controls5utils25make_gl_current_or_exceptEP10SDL_Window13SDL_GLContext"></span><span id="_CPPv2N8controls5utils25make_gl_current_or_exceptEP10SDL_Window13SDL_GLContext"></span><span id="controls::utils::make_gl_current_or_except__SDL_WindowP.SDL_GLContext"></span><span class="target" id="namespacecontrols_1_1utils_1a4bd2ea1f5878805029c980bde93972ba"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_gl_current_or_except</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SDL_Window</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">window</span></span>, <span class="n"><span class="pre">SDL_GLContext</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">gl_context</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils26sync_gl_and_unbind_contextEP10SDL_Window">
<span id="_CPPv3N8controls5utils26sync_gl_and_unbind_contextEP10SDL_Window"></span><span id="_CPPv2N8controls5utils26sync_gl_and_unbind_contextEP10SDL_Window"></span><span id="controls::utils::sync_gl_and_unbind_context__SDL_WindowP"></span><span class="target" id="namespacecontrols_1_1utils_1a132b9170d4925782124fa74503a37580"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_gl_and_unbind_context</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">SDL_Window</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">window</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils5GLObjE">
<span id="_CPPv3N8controls5utils5GLObjE"></span><span id="_CPPv2N8controls5utils5GLObjE"></span><span id="controls::utils::GLObj"></span><span class="target" id="structcontrols_1_1utils_1_1GLObj"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GLObj</span></span></span><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;gl_utils.hpp&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils5GLObj3vaoE">
<span id="_CPPv3N8controls5utils5GLObj3vaoE"></span><span id="_CPPv2N8controls5utils5GLObj3vaoE"></span><span id="controls::utils::GLObj::vao__GLuint"></span><span class="target" id="structcontrols_1_1utils_1_1GLObj_1ac56c8aa5de8b3806ed5757a3c9384e26"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vao</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils5GLObj3vboE">
<span id="_CPPv3N8controls5utils5GLObj3vboE"></span><span id="_CPPv2N8controls5utils5GLObj3vboE"></span><span id="controls::utils::GLObj::vbo__GLuint"></span><span class="target" id="structcontrols_1_1utils_1_1GLObj_1a1214cb0f82c2051a63852389b2e57974"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vbo</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5utils5GLObj3eboE">
<span id="_CPPv3N8controls5utils5GLObj3eboE"></span><span id="_CPPv2N8controls5utils5GLObj3eboE"></span><span id="controls::utils::GLObj::ebo__GLuint"></span><span class="target" id="structcontrols_1_1utils_1_1GLObj_1ae3bc140b533e8de1fdf709cc6e6e942d"></span><span class="n"><span class="pre">GLuint</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ebo</span></span></span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../namespacelist.html" class="btn btn-neutral float-left" title="Namespace list" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="namespacecontrols_1_1cuda__globals.html" class="btn btn-neutral float-right" title="Namespace controls::cuda_globals" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Anthony Yip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>