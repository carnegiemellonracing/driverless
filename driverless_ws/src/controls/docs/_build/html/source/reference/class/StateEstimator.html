<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class state::StateEstimator &mdash; driverless_controls 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Class state::StateEstimator_Impl" href="StateEstimator_Impl.html" />
    <link rel="prev" title="Class mppi::MppiController_Impl" href="MppiController_Impl.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            driverless_controls
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../explainers/overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ControllerNode.html">Class ControllerNode</a></li>
<li class="toctree-l2"><a class="reference internal" href="MppiController.html">Class mppi::MppiController</a></li>
<li class="toctree-l2"><a class="reference internal" href="MppiController_Impl.html">Class mppi::MppiController_Impl</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Class state::StateEstimator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimatorE"><code class="docutils literal notranslate"><span class="pre">StateEstimator</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE"><code class="docutils literal notranslate"><span class="pre">StateEstimator::sync_to_device()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator9on_splineERK9SplineMsg"><code class="docutils literal notranslate"><span class="pre">StateEstimator::on_spline()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE"><code class="docutils literal notranslate"><span class="pre">StateEstimator::on_twist()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator7on_poseERK7PoseMsg"><code class="docutils literal notranslate"><span class="pre">StateEstimator::on_pose()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator8is_readyEv"><code class="docutils literal notranslate"><span class="pre">StateEstimator::is_ready()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator19get_projected_stateEv"><code class="docutils literal notranslate"><span class="pre">StateEstimator::get_projected_state()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator10set_loggerE10LoggerFunc"><code class="docutils literal notranslate"><span class="pre">StateEstimator::set_logger()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator26get_orig_spline_data_stampEv"><code class="docutils literal notranslate"><span class="pre">StateEstimator::get_orig_spline_data_stamp()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE"><code class="docutils literal notranslate"><span class="pre">StateEstimator::record_control_action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimatorD0Ev"><code class="docutils literal notranslate"><span class="pre">StateEstimator::~StateEstimator()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc"><code class="docutils literal notranslate"><span class="pre">StateEstimator::create()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="StateEstimator_Impl.html">Class state::StateEstimator_Impl</a></li>
<li class="toctree-l2"><a class="reference internal" href="StateProjector.html">Class state::StateProjector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/types_hpp.html">File types.hpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/types_cuh.html">File types.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/functors_cuh.html">File functors.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/cuda_globals_cuh.html">File cuda_globals.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/cuda_utils_cuh.html">File cuda_utils.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/constants_hpp.html">File constants.hpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/cuda_constants_cuh.html">File cuda_constants.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/helpers_cuh.html">File helpers.cuh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file/gl_utils_hpp.html">File gl_utils.hpp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../explainerslist.html">Explainers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">driverless_controls</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api_reference.html">API Reference</a></li>
      <li class="breadcrumb-item active">Class state::StateEstimator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/source/reference/class/StateEstimator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-state-stateestimator">
<h1>Class state::StateEstimator<a class="headerlink" href="#class-state-stateestimator" title="Link to this heading"></a></h1>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimatorE">
<span id="_CPPv3N8controls5state14StateEstimatorE"></span><span id="_CPPv2N8controls5state14StateEstimatorE"></span><span id="controls::state::StateEstimator"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">StateEstimator</span></span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimatorE" title="Link to this definition"></a><br /></dt>
<dd><p>State Estimator! Provides functions for controller node to use to prepare state information for mppi. </p>
<p>Refer to the<span> <a class="reference internal" href="../../explainers/state_estimation.html"><span class="doc">explainer</span></a> </span> for a more detailed overview. </p>
<p>Subclassed by <a class="reference internal" href="StateEstimator_Impl.html#classcontrols_1_1state_1_1StateEstimator__Impl"><span class="std std-ref">controls::state::StateEstimator_Impl</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::sync_to_device__rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1ac011e98108892711ce593ec3861883c7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sync_to_device</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator14sync_to_deviceERKN6rclcpp4TimeE" title="Link to this definition"></a><br /></dt>
<dd><p>“main” function of the state estimator. Calculates current inertial state and the inertial-to-curvilinear lookup table, then syncs them to the GPU for MPPI use. (into <a class="reference internal" href="../file/cuda_globals_cuh.html#namespacecontrols_1_1cuda__globals_1a3695c0ce3bc37280f3efca5f6c80ebe6"><span class="std std-ref">cuda_globals::curv_frame_lookup_tex</span></a> and <a class="reference internal" href="../file/cuda_globals_cuh.html#namespacecontrols_1_1cuda__globals_1a92cc6e0f82235d4364fe6a9b757b291d"><span class="std std-ref">cuda_globals::curr_state</span></a> respectively) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time</strong> – The current time </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator9on_splineERK9SplineMsg">
<span id="_CPPv3N8controls5state14StateEstimator9on_splineERK9SplineMsg"></span><span id="_CPPv2N8controls5state14StateEstimator9on_splineERK9SplineMsg"></span><span id="controls::state::StateEstimator::on_spline__SplineMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a58056ddfbbe90589d7039056cb724088"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_spline</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls9SplineMsgE" title="controls::SplineMsg"><span class="n"><span class="pre">SplineMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">spline_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator9on_splineERK9SplineMsg" title="Link to this definition"></a><br /></dt>
<dd><p>Callback for spline messages. Updates the state estimator with the new spline. Used for both state projection and curvilinear state lookup table generation. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spline_msg</strong> – The spline message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::on_twist__TwistMsgCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1afeb74513a3953688672cfe933510eb63"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_twist</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls8TwistMsgE" title="controls::TwistMsg"><span class="n"><span class="pre">TwistMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">twist_msg</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator8on_twistERK8TwistMsgRKN6rclcpp4TimeE" title="Link to this definition"></a><br /></dt>
<dd><p>Callback for twist messages. Updates the state estimator with the new twist. Used for state projection. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>twist_msg</strong> – The spline message </p></li>
<li><p><strong>time</strong> – &#64;TODO why does this need to be passed in? </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator7on_poseERK7PoseMsg">
<span id="_CPPv3N8controls5state14StateEstimator7on_poseERK7PoseMsg"></span><span id="_CPPv2N8controls5state14StateEstimator7on_poseERK7PoseMsg"></span><span id="controls::state::StateEstimator::on_pose__PoseMsgCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a609f189e03263965c699d92a293b11c6"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_pose</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls7PoseMsgE" title="controls::PoseMsg"><span class="n"><span class="pre">PoseMsg</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">pose_msg</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator7on_poseERK7PoseMsg" title="Link to this definition"></a><br /></dt>
<dd><p>Callback for pose messages. Can be used for state projection, but currently unused. Reason: position given by spline instead, yaw given by steering wheel angle. Pose meanwhile is noisy? </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pose_msg</strong> – The pose message </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator8is_readyEv">
<span id="_CPPv3N8controls5state14StateEstimator8is_readyEv"></span><span id="_CPPv2N8controls5state14StateEstimator8is_readyEv"></span><span id="controls::state::StateEstimator::is_ready"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1aa0cf7078c14a49cd0b0d9a6c01f3da74"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_ready</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator8is_readyEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns whether state projection is ready. If not, the MPPI controller should wait. This should only be not ready when the state estimator is first initialized and the controller has no spline. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if state projection is ready, False otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator19get_projected_stateEv">
<span id="_CPPv3N8controls5state14StateEstimator19get_projected_stateEv"></span><span id="_CPPv2N8controls5state14StateEstimator19get_projected_stateEv"></span><span id="controls::state::StateEstimator::get_projected_state"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1ab4034a7d5e053e5cc6b75a1b0c40a8df"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls5StateE" title="controls::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_projected_state</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator19get_projected_stateEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the last state that was projected. Does not actually do the projection (that is in an internal call in sync_to_device). Used for debugging pursposes. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Spline provides state information since car is at (0, 0) relative to a new spline. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The most recent projected state. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator10set_loggerE10LoggerFunc">
<span id="_CPPv3N8controls5state14StateEstimator10set_loggerE10LoggerFunc"></span><span id="_CPPv2N8controls5state14StateEstimator10set_loggerE10LoggerFunc"></span><span id="controls::state::StateEstimator::set_logger__LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1af1c15841245106d5c3e348eabd40533e"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_logger</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator10set_loggerE10LoggerFunc" title="Link to this definition"></a><br /></dt>
<dd><p>Sets the logger function for the state estimator. Can be integrated with ROS or print to stdout. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>logger</strong> – The logger function to be used. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator26get_orig_spline_data_stampEv">
<span id="_CPPv3N8controls5state14StateEstimator26get_orig_spline_data_stampEv"></span><span id="_CPPv2N8controls5state14StateEstimator26get_orig_spline_data_stampEv"></span><span id="controls::state::StateEstimator::get_orig_spline_data_stamp"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a4c6fdde239491c5e8b93982e8bfb5934"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_orig_spline_data_stamp</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator26get_orig_spline_data_stampEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the timestamp of the last spline message received. This is accurate to when the sensor (i.e. LIDAR) information was received, not when the spline was calculated. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The timestamp of the last spline message received. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE">
<span id="_CPPv3N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="_CPPv2N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE"></span><span id="controls::state::StateEstimator::record_control_action__ActionCR.rclcpp::TimeCR"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1a601647e23b593c357f5cbfae2daa51a2"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">record_control_action</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6ActionE" title="controls::Action"><span class="n"><span class="pre">Action</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">action</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">rclcpp</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Time</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">ros_time</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator21record_control_actionERK6ActionRKN6rclcpp4TimeE" title="Link to this definition"></a><br /></dt>
<dd><p>Records a control action for state projection purposes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> – The control action to record </p></li>
<li><p><strong>ros_time</strong> – The time the action was recorded </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimatorD0Ev">
<span id="_CPPv3N8controls5state14StateEstimatorD0Ev"></span><span id="_CPPv2N8controls5state14StateEstimatorD0Ev"></span><span id="controls::state::StateEstimator::~StateEstimator"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1adbb2678e027559bb19fbac59f0d8c0dc"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~StateEstimator</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">default</span></span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimatorD0Ev" title="Link to this definition"></a><br /></dt>
<dd><p>Virtual destructor for the state estimator. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc">
<span id="_CPPv3N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc"></span><span id="_CPPv2N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc"></span><span id="controls::state::StateEstimator::create__std::mutexR.LoggerFunc"></span><span class="target" id="classcontrols_1_1state_1_1StateEstimator_1abd21b8978ba2d6ebf2ee37bdb8ed5852"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">shared_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N8controls5state14StateEstimatorE" title="controls::state::StateEstimator"><span class="n"><span class="pre">StateEstimator</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">create</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">mutex</span></span>, <a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls10LoggerFuncE" title="controls::LoggerFunc"><span class="n"><span class="pre">LoggerFunc</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">logger</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="../file/types_hpp.html#_CPPv4N8controls6no_logEPKc" title="controls::no_log"><span class="n"><span class="pre">no_log</span></span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N8controls5state14StateEstimator6createERNSt5mutexE10LoggerFunc" title="Link to this definition"></a><br /></dt>
<dd><p>Essentially serves as a named constructor that grants ownership of a <a class="reference internal" href="#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a> to the caller. This is necessary because <a class="reference internal" href="#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a> is an abstract base class (a pointer is needed) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mutex</strong> – <strong>[in]</strong> Reference to the mutex that state estimator will use TODO: who else uses it? prevents any public function from being called concurrently - enabling same CUDA context (undefined) </p></li>
<li><p><strong>logger</strong> – <strong>[in]</strong> Function object of logger (string to void) TODO: is function object correct? </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to the created <a class="reference internal" href="#classcontrols_1_1state_1_1StateEstimator"><span class="std std-ref">StateEstimator</span></a></p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="MppiController_Impl.html" class="btn btn-neutral float-left" title="Class mppi::MppiController_Impl" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="StateEstimator_Impl.html" class="btn btn-neutral float-right" title="Class state::StateEstimator_Impl" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Anthony Yip.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>